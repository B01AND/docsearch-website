{"version":3,"file":"index.js","sources":["../../../autocomplete-core/dist/esm/utils.js","../../../autocomplete-core/dist/esm/stateReducer.js","../../../autocomplete-core/dist/esm/defaultProps.js","../../../autocomplete-core/dist/esm/completion.js","../../../autocomplete-core/dist/esm/store.js","../../../autocomplete-core/dist/esm/onInput.js","../../../autocomplete-core/dist/esm/onKeyDown.js","../../../autocomplete-core/dist/esm/propGetters.js","../../../autocomplete-core/dist/esm/setters.js","../../../autocomplete-core/dist/esm/autocomplete.js","../../../autocomplete-preset-algolia/dist/esm/utils.js","../../../autocomplete-preset-algolia/dist/esm/results.js","../../src/constants.ts","../../src/utils/groupBy.ts","../../src/utils/noop.ts","../../src/stored-searches.ts","../../node_modules/algoliasearch/dist/algoliasearch-lite.esm.browser.js","../../src/version.ts","../../src/useSearchClient.ts","../../src/useTrapFocus.ts","../../src/useTouchEvents.ts","../../src/Hit.tsx","../../src/icons/SearchIcon.tsx","../../src/icons/ResetIcon.tsx","../../src/icons/LoadingIcon.tsx","../../src/SearchBox.tsx","../../src/Snippet.tsx","../../src/Results.tsx","../../src/icons/RecentIcon.tsx","../../src/icons/SelectIcon.tsx","../../src/icons/SourceIcon.tsx","../../src/icons/StarIcon.tsx","../../src/icons/NoResultsIcon.tsx","../../src/StartScreen.tsx","../../src/ResultsScreen.tsx","../../src/NoResultsScreen.tsx","../../src/ErrorScreen.tsx","../../src/ScreenState.tsx","../../src/AlgoliaLogo.tsx","../../src/Footer.tsx","../../src/DocSearch.tsx","../../src/SearchButton.tsx"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var noop = function noop() {};\nvar autocompleteId = 0;\nexport function generateAutocompleteId() {\n  return \"autocomplete-\".concat(autocompleteId++);\n}\nexport function getItemsCount(state) {\n  if (state.suggestions.length === 0) {\n    return 0;\n  }\n\n  return state.suggestions.reduce(function (sum, suggestion) {\n    return sum + suggestion.items.length;\n  }, 0);\n}\nexport function isSpecialClick(event) {\n  var isMiddleClick = event.button === 1;\n  return isMiddleClick || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n}\n\nfunction normalizeSource(source) {\n  return _objectSpread({\n    getInputValue: function getInputValue(_ref) {\n      var state = _ref.state;\n      return state.query;\n    },\n    getSuggestionUrl: function getSuggestionUrl() {\n      return undefined;\n    },\n    onSelect: function onSelect(_ref2) {\n      var setIsOpen = _ref2.setIsOpen;\n      setIsOpen(false);\n    },\n    onHighlight: noop\n  }, source);\n}\n\nexport function normalizeGetSources(getSources) {\n  return function (options) {\n    return Promise.resolve(getSources(options)).then(function (sources) {\n      return Promise.all(sources.filter(Boolean).map(function (source) {\n        return Promise.resolve(normalizeSource(source));\n      }));\n    });\n  };\n}\nexport function getNextHighlightedIndex(moveAmount, baseIndex, itemCount, defaultHighlightedIndex) {\n  // We allow circular keyboard navigation from the base index.\n  // The base index can either be `null` (nothing is highlighted) or `0`\n  // (the first item is highlighted).\n  // The base index is allowed to get assigned `null` only if\n  // `props.defaultHighlightedIndex` is `null`. This pattern allows to \"stop\"\n  // by the actual query before navigating to other suggestions as seen on\n  // Google or Amazon.\n  if (baseIndex === null && moveAmount < 0) {\n    return itemCount - 1;\n  }\n\n  if (defaultHighlightedIndex !== null && baseIndex === 0 && moveAmount < 0) {\n    return itemCount - 1;\n  }\n\n  var numericIndex = (baseIndex === null ? -1 : baseIndex) + moveAmount;\n\n  if (numericIndex <= -1 || numericIndex >= itemCount) {\n    return defaultHighlightedIndex === null ? null : 0;\n  }\n\n  return numericIndex;\n} // We don't have access to the autocomplete source when we call `onKeyDown`\n// or `onClick` because those are native browser events.\n// However, we can get the source from the suggestion index.\n\nfunction getSuggestionFromHighlightedIndex(_ref3) {\n  var state = _ref3.state;\n  // Given 3 sources with respectively 1, 2 and 3 suggestions: [1, 2, 3]\n  // We want to get the accumulated counts:\n  // [1, 1 + 2, 1 + 2 + 3] = [1, 3, 3 + 3] = [1, 3, 6]\n  var accumulatedSuggestionsCount = state.suggestions.map(function (suggestion) {\n    return suggestion.items.length;\n  }).reduce(function (acc, suggestionCount, index) {\n    var previousValue = acc[index - 1] || 0;\n    var nextValue = previousValue + suggestionCount;\n    acc.push(nextValue);\n    return acc;\n  }, []); // Based on the accumulated counts, we can infer the index of the suggestion.\n\n  var suggestionIndex = accumulatedSuggestionsCount.reduce(function (acc, current) {\n    if (current <= state.highlightedIndex) {\n      return acc + 1;\n    }\n\n    return acc;\n  }, 0);\n  return state.suggestions[suggestionIndex];\n}\n/**\n * Gets the highlighted index relative to a suggestion object (not the absolute\n * highlighted index).\n *\n * Example:\n *  [['a', 'b'], ['c', 'd', 'e'], ['f']]\n *                      â†‘\n *         (absolute: 3, relative: 1)\n * @param param0\n */\n\n\nfunction getRelativeHighlightedIndex(_ref4) {\n  var state = _ref4.state,\n      suggestion = _ref4.suggestion;\n  var isOffsetFound = false;\n  var counter = 0;\n  var previousItemsOffset = 0;\n\n  while (isOffsetFound === false) {\n    var currentSuggestion = state.suggestions[counter];\n\n    if (currentSuggestion === suggestion) {\n      isOffsetFound = true;\n      break;\n    }\n\n    previousItemsOffset += currentSuggestion.items.length;\n    counter++;\n  }\n\n  return state.highlightedIndex - previousItemsOffset;\n}\n\nexport function getHighlightedItem(_ref5) {\n  var state = _ref5.state;\n  var suggestion = getSuggestionFromHighlightedIndex({\n    state: state\n  });\n\n  if (!suggestion) {\n    return null;\n  }\n\n  var item = suggestion.items[getRelativeHighlightedIndex({\n    state: state,\n    suggestion: suggestion\n  })];\n  var source = suggestion.source;\n  var itemValue = source.getInputValue({\n    suggestion: item,\n    state: state\n  });\n  var itemUrl = source.getSuggestionUrl({\n    suggestion: item,\n    state: state\n  });\n  return {\n    item: item,\n    itemValue: itemValue,\n    itemUrl: itemUrl,\n    source: source\n  };\n}\nexport function isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getItemsCount, getNextHighlightedIndex } from './utils';\nexport var stateReducer = function stateReducer(action, state, props) {\n  switch (action.type) {\n    case 'setHighlightedIndex':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: action.value\n        });\n      }\n\n    case 'setQuery':\n      {\n        return _objectSpread({}, state, {\n          query: action.value\n        });\n      }\n\n    case 'setSuggestions':\n      {\n        return _objectSpread({}, state, {\n          suggestions: action.value\n        });\n      }\n\n    case 'setIsOpen':\n      {\n        return _objectSpread({}, state, {\n          isOpen: action.value\n        });\n      }\n\n    case 'setStatus':\n      {\n        return _objectSpread({}, state, {\n          status: action.value\n        });\n      }\n\n    case 'setContext':\n      {\n        return _objectSpread({}, state, {\n          context: _objectSpread({}, state.context, {}, action.value)\n        });\n      }\n\n    case 'ArrowDown':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: getNextHighlightedIndex(1, state.highlightedIndex, getItemsCount(state), props.defaultHighlightedIndex)\n        });\n      }\n\n    case 'ArrowUp':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: getNextHighlightedIndex(-1, state.highlightedIndex, getItemsCount(state), props.defaultHighlightedIndex)\n        });\n      }\n\n    case 'Escape':\n      {\n        if (state.isOpen) {\n          return _objectSpread({}, state, {\n            isOpen: false\n          });\n        }\n\n        return _objectSpread({}, state, {\n          query: '',\n          status: 'idle',\n          statusContext: {},\n          suggestions: []\n        });\n      }\n\n    case 'submit':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: null,\n          isOpen: false,\n          status: 'idle',\n          statusContext: {}\n        });\n      }\n\n    case 'reset':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: // Since we open the menu on reset when openOnFocus=true\n          // we need to restore the highlighted index to the defaultHighlightedIndex. (DocSearch use-case)\n          // Since we close the menu when openOnFocus=false\n          // we lose track of the highlighted index. (Query-suggestions use-case)\n          props.openOnFocus === true ? props.defaultHighlightedIndex : null,\n          isOpen: props.openOnFocus,\n          // @TODO: Check with UX team if we want to close the menu on reset.\n          status: 'idle',\n          statusContext: {},\n          query: ''\n        });\n      }\n\n    case 'focus':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: props.defaultHighlightedIndex,\n          isOpen: props.openOnFocus || state.query.length > 0\n        });\n      }\n\n    case 'blur':\n      {\n        return _objectSpread({}, state, {\n          isOpen: false,\n          highlightedIndex: null\n        });\n      }\n\n    case 'mousemove':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: action.value\n        });\n      }\n\n    case 'mouseleave':\n      {\n        return _objectSpread({}, state, {\n          highlightedIndex: props.defaultHighlightedIndex\n        });\n      }\n\n    default:\n      return state;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { generateAutocompleteId, getItemsCount, normalizeGetSources, noop } from './utils';\nexport function getDefaultProps(props) {\n  var _props$id;\n\n  var environment = typeof window !== 'undefined' ? window : {};\n  return _objectSpread({\n    openOnFocus: false,\n    placeholder: '',\n    autoFocus: false,\n    defaultHighlightedIndex: null,\n    showCompletion: false,\n    stallThreshold: 300,\n    environment: environment,\n    shouldDropdownShow: function shouldDropdownShow(_ref) {\n      var state = _ref.state;\n      return getItemsCount(state) > 0;\n    },\n    onStateChange: noop,\n    onSubmit: noop\n  }, props, {\n    // Since `generateAutocompleteId` triggers a side effect (it increments\n    // and internal counter), we don't want to execute it if unnecessary.\n    id: (_props$id = props.id) !== null && _props$id !== void 0 ? _props$id : generateAutocompleteId(),\n    // The following props need to be deeply defaulted.\n    initialState: _objectSpread({\n      highlightedIndex: null,\n      query: '',\n      completion: null,\n      suggestions: [],\n      isOpen: false,\n      status: 'idle',\n      statusContext: {},\n      context: {}\n    }, props.initialState),\n    getSources: normalizeGetSources(props.getSources),\n    navigator: _objectSpread({\n      navigate: function navigate(_ref2) {\n        var suggestionUrl = _ref2.suggestionUrl;\n        environment.location.assign(suggestionUrl);\n      },\n      navigateNewTab: function navigateNewTab(_ref3) {\n        var suggestionUrl = _ref3.suggestionUrl;\n        var windowReference = environment.open(suggestionUrl, '_blank', 'noopener');\n\n        if (windowReference) {\n          windowReference.focus();\n        }\n      },\n      navigateNewWindow: function navigateNewWindow(_ref4) {\n        var suggestionUrl = _ref4.suggestionUrl;\n        environment.open(suggestionUrl, '_blank', 'noopener');\n      }\n    }, props.navigator)\n  });\n}","import { getHighlightedItem } from './utils';\nexport function getCompletion(_ref) {\n  var state = _ref.state,\n      props = _ref.props;\n\n  if (props.showCompletion === false || state.isOpen === false || state.highlightedIndex === null || state.status === 'stalled') {\n    return null;\n  }\n\n  var _ref2 = getHighlightedItem({\n    state: state\n  }),\n      itemValue = _ref2.itemValue; // The completion should appear only if the _first_ characters of the query\n  // match with the suggestion.\n\n\n  if (state.query.length > 0 && itemValue.toLocaleLowerCase().indexOf(state.query.toLocaleLowerCase()) === 0) {\n    // If the query typed has a different case than the suggestion, we want\n    // to show the completion matching the case of the query. This makes both\n    // strings overlap correctly.\n    // Example:\n    //  - query: 'Gui'\n    //  - suggestion: 'guitar'\n    //  => completion: 'Guitar'\n    var completion = state.query + itemValue.slice(state.query.length);\n\n    if (completion === state.query) {\n      return null;\n    }\n\n    return completion;\n  }\n\n  return null;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getCompletion } from './completion';\nexport function createStore(reducer, props) {\n  return {\n    state: props.initialState,\n    getState: function getState() {\n      return this.state;\n    },\n    send: function send(action, payload) {\n      this.state = withCompletion(reducer({\n        type: action,\n        value: payload\n      }, this.state, props), props);\n      props.onStateChange({\n        state: this.state\n      });\n    }\n  };\n}\n\nfunction withCompletion(state, props) {\n  return _objectSpread({}, state, {\n    completion: getCompletion({\n      state: state,\n      props: props\n    })\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar lastStalledId = null;\nexport function onInput(_ref) {\n  var query = _ref.query,\n      store = _ref.store,\n      props = _ref.props,\n      setHighlightedIndex = _ref.setHighlightedIndex,\n      setQuery = _ref.setQuery,\n      setSuggestions = _ref.setSuggestions,\n      setIsOpen = _ref.setIsOpen,\n      setStatus = _ref.setStatus,\n      setContext = _ref.setContext,\n      _ref$nextState = _ref.nextState,\n      nextState = _ref$nextState === void 0 ? {} : _ref$nextState;\n\n  if (props.onInput) {\n    return Promise.resolve(props.onInput({\n      query: query,\n      state: store.getState(),\n      setHighlightedIndex: setHighlightedIndex,\n      setQuery: setQuery,\n      setSuggestions: setSuggestions,\n      setIsOpen: setIsOpen,\n      setStatus: setStatus,\n      setContext: setContext\n    }));\n  }\n\n  if (lastStalledId) {\n    clearTimeout(lastStalledId);\n  }\n\n  setHighlightedIndex(props.defaultHighlightedIndex);\n  setQuery(query);\n\n  if (query.length === 0 && props.openOnFocus === false) {\n    var _nextState$isOpen;\n\n    setStatus('idle');\n    setSuggestions(store.getState().suggestions.map(function (suggestion) {\n      return _objectSpread({}, suggestion, {\n        items: []\n      });\n    }));\n    setIsOpen((_nextState$isOpen = nextState.isOpen) !== null && _nextState$isOpen !== void 0 ? _nextState$isOpen : props.shouldDropdownShow({\n      state: store.getState()\n    }));\n    return Promise.resolve();\n  }\n\n  setStatus('loading');\n  lastStalledId = props.environment.setTimeout(function () {\n    setStatus('stalled');\n  }, props.stallThreshold);\n  return props.getSources({\n    query: query,\n    state: store.getState(),\n    setHighlightedIndex: setHighlightedIndex,\n    setQuery: setQuery,\n    setSuggestions: setSuggestions,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  }).then(function (sources) {\n    setStatus('loading'); // @TODO: convert `Promise.all` to fetching strategy.\n\n    return Promise.all(sources.map(function (source) {\n      return Promise.resolve(source.getSuggestions({\n        query: query,\n        state: store.getState(),\n        setHighlightedIndex: setHighlightedIndex,\n        setQuery: setQuery,\n        setSuggestions: setSuggestions,\n        setIsOpen: setIsOpen,\n        setStatus: setStatus,\n        setContext: setContext\n      })).then(function (items) {\n        return {\n          source: source,\n          items: items\n        };\n      });\n    })).then(function (suggestions) {\n      var _nextState$isOpen2;\n\n      setStatus('idle');\n      setSuggestions(suggestions);\n      setIsOpen((_nextState$isOpen2 = nextState.isOpen) !== null && _nextState$isOpen2 !== void 0 ? _nextState$isOpen2 : query.length === 0 && props.openOnFocus || props.shouldDropdownShow({\n        state: store.getState()\n      }));\n    }).catch(function (error) {\n      setStatus('error');\n      throw error;\n    }).finally(function () {\n      if (lastStalledId) {\n        clearTimeout(lastStalledId);\n      }\n    });\n  });\n}","import { onInput } from './onInput';\nimport { getCompletion } from './completion';\nimport { getHighlightedItem } from './utils';\nexport function onKeyDown(_ref) {\n  var event = _ref.event,\n      store = _ref.store,\n      props = _ref.props,\n      setHighlightedIndex = _ref.setHighlightedIndex,\n      setQuery = _ref.setQuery,\n      setSuggestions = _ref.setSuggestions,\n      setIsOpen = _ref.setIsOpen,\n      setStatus = _ref.setStatus,\n      setContext = _ref.setContext;\n\n  if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n    // Default browser behavior changes the caret placement on ArrowUp and\n    // Arrow down.\n    event.preventDefault();\n    store.send(event.key, {\n      shiftKey: event.shiftKey\n    });\n    var nodeItem = props.environment.document.getElementById(\"\".concat(props.id, \"-item-\").concat(store.getState().highlightedIndex));\n    nodeItem === null || nodeItem === void 0 ? void 0 : nodeItem.scrollIntoView(false);\n    var highlightedItem = getHighlightedItem({\n      state: store.getState()\n    });\n\n    if (store.getState().highlightedIndex !== null && highlightedItem) {\n      var item = highlightedItem.item,\n          itemValue = highlightedItem.itemValue,\n          itemUrl = highlightedItem.itemUrl,\n          source = highlightedItem.source;\n      source.onHighlight({\n        suggestion: item,\n        suggestionValue: itemValue,\n        suggestionUrl: itemUrl,\n        source: source,\n        state: store.getState(),\n        setHighlightedIndex: setHighlightedIndex,\n        setQuery: setQuery,\n        setSuggestions: setSuggestions,\n        setIsOpen: setIsOpen,\n        setStatus: setStatus,\n        setContext: setContext,\n        event: event\n      });\n    }\n  } else if ((event.key === 'Tab' || // When the user hits the right arrow and is at the end of the input\n  // query, we validate the completion.\n  event.key === 'ArrowRight' && event.target.selectionStart === store.getState().query.length) && props.showCompletion && store.getState().highlightedIndex !== null) {\n    event.preventDefault();\n    var query = getCompletion({\n      state: store.getState(),\n      props: props\n    });\n\n    if (query) {\n      onInput({\n        query: query,\n        store: store,\n        props: props,\n        setHighlightedIndex: setHighlightedIndex,\n        setQuery: setQuery,\n        setSuggestions: setSuggestions,\n        setIsOpen: setIsOpen,\n        setStatus: setStatus,\n        setContext: setContext\n      });\n    }\n  } else if (event.key === 'Escape') {\n    // This prevents the default browser behavior on `input[type=\"search\"]`\n    // to remove the query right away because we first want to close the\n    // dropdown.\n    event.preventDefault();\n    store.send(event.key, null);\n  } else if (event.key === 'Enter') {\n    // No item is selected, so we let the browser handle the native `onSubmit`\n    // form event.\n    if (store.getState().highlightedIndex === null || store.getState().suggestions.every(function (suggestion) {\n      return suggestion.items.length === 0;\n    })) {\n      return;\n    } // This prevents the `onSubmit` event to be sent because an item is\n    // highlighted.\n\n\n    event.preventDefault();\n\n    var _ref2 = getHighlightedItem({\n      state: store.getState()\n    }),\n        _item = _ref2.item,\n        _itemValue = _ref2.itemValue,\n        _itemUrl = _ref2.itemUrl,\n        _source = _ref2.source;\n\n    if (event.metaKey || event.ctrlKey) {\n      if (_itemUrl !== undefined) {\n        props.navigator.navigateNewTab({\n          suggestionUrl: _itemUrl,\n          suggestion: _item,\n          state: store.getState()\n        });\n      }\n    } else if (event.shiftKey) {\n      if (_itemUrl !== undefined) {\n        props.navigator.navigateNewWindow({\n          suggestionUrl: _itemUrl,\n          suggestion: _item,\n          state: store.getState()\n        });\n      }\n    } else if (event.altKey) {// Keep native browser behavior\n    } else {\n      onInput({\n        query: _itemValue,\n        store: store,\n        props: props,\n        setHighlightedIndex: setHighlightedIndex,\n        setQuery: setQuery,\n        setSuggestions: setSuggestions,\n        setIsOpen: setIsOpen,\n        setStatus: setStatus,\n        setContext: setContext,\n        nextState: {\n          isOpen: false\n        }\n      }).then(function () {\n        _source.onSelect({\n          suggestion: _item,\n          suggestionValue: _itemValue,\n          suggestionUrl: _itemUrl,\n          source: _source,\n          state: store.getState(),\n          setHighlightedIndex: setHighlightedIndex,\n          setQuery: setQuery,\n          setSuggestions: setSuggestions,\n          setIsOpen: setIsOpen,\n          setStatus: setStatus,\n          setContext: setContext,\n          event: event\n        });\n      });\n\n      if (_itemUrl !== undefined) {\n        props.navigator.navigate({\n          suggestionUrl: _itemUrl,\n          suggestion: _item,\n          state: store.getState()\n        });\n      }\n    }\n  }\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { onInput } from './onInput';\nimport { onKeyDown as _onKeyDown } from './onKeyDown';\nimport { isSpecialClick, getHighlightedItem, isOrContainsNode } from './utils';\nexport function getPropGetters(_ref) {\n  var store = _ref.store,\n      props = _ref.props,\n      setHighlightedIndex = _ref.setHighlightedIndex,\n      setQuery = _ref.setQuery,\n      setSuggestions = _ref.setSuggestions,\n      setIsOpen = _ref.setIsOpen,\n      setStatus = _ref.setStatus,\n      setContext = _ref.setContext;\n\n  var getEnvironmentProps = function getEnvironmentProps(getterProps) {\n    return {\n      // On touch devices, we do not rely on the native `blur` event of the\n      // input to close the dropdown, but rather on a custom `touchstart` event\n      // outside of the autocomplete elements.\n      // This ensures a working experience on mobile because we blur the input\n      // on touch devices when the user starts scrolling (`touchmove`).\n      onTouchStart: function onTouchStart(event) {\n        if (store.getState().isOpen === false || event.target === getterProps.inputElement) {\n          return;\n        }\n\n        var isTargetWithinAutocomplete = [getterProps.searchBoxElement, getterProps.dropdownElement].some(function (contextNode) {\n          return contextNode && (isOrContainsNode(contextNode, event.target) || isOrContainsNode(contextNode, props.environment.document.activeElement));\n        });\n\n        if (isTargetWithinAutocomplete === false) {\n          store.send('blur', null);\n        }\n      },\n      // When scrolling on touch devices (mobiles, tablets, etc.), we want to\n      // mimic the native platform behavior where the input is blurred to\n      // hide the virtual keyboard. This gives more vertical space to\n      // discover all the suggestions showing up in the dropdown.\n      onTouchMove: function onTouchMove(event) {\n        if (store.getState().isOpen === false || getterProps.inputElement !== props.environment.document.activeElement || event.target === getterProps.inputElement) {\n          return;\n        }\n\n        getterProps.inputElement.blur();\n      }\n    };\n  };\n\n  var getRootProps = function getRootProps(rest) {\n    return _objectSpread({\n      role: 'combobox',\n      'aria-expanded': store.getState().isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': store.getState().isOpen ? \"\".concat(props.id, \"-menu\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getFormProps = function getFormProps(providedProps) {\n    var inputElement = providedProps.inputElement,\n        rest = _objectWithoutProperties(providedProps, [\"inputElement\"]);\n\n    return _objectSpread({\n      onSubmit: function onSubmit(event) {\n        event.preventDefault();\n        props.onSubmit({\n          state: store.getState(),\n          setHighlightedIndex: setHighlightedIndex,\n          setQuery: setQuery,\n          setSuggestions: setSuggestions,\n          setIsOpen: setIsOpen,\n          setStatus: setStatus,\n          setContext: setContext,\n          event: event\n        });\n        store.send('submit', null);\n\n        if (providedProps.inputElement) {\n          providedProps.inputElement.blur();\n        }\n      },\n      onReset: function onReset(event) {\n        event.preventDefault();\n\n        if (props.openOnFocus) {\n          onInput({\n            query: '',\n            store: store,\n            props: props,\n            setHighlightedIndex: setHighlightedIndex,\n            setQuery: setQuery,\n            setSuggestions: setSuggestions,\n            setIsOpen: setIsOpen,\n            setStatus: setStatus,\n            setContext: setContext\n          });\n        }\n\n        store.send('reset', null);\n\n        if (providedProps.inputElement) {\n          providedProps.inputElement.focus();\n        }\n      }\n    }, rest);\n  };\n\n  var getInputProps = function getInputProps(providedProps) {\n    function onFocus() {\n      // We want to trigger a query when `openOnFocus` is true\n      // because the dropdown should open with the current query.\n      if (props.openOnFocus || store.getState().query.length > 0) {\n        onInput({\n          query: store.getState().query,\n          store: store,\n          props: props,\n          setHighlightedIndex: setHighlightedIndex,\n          setQuery: setQuery,\n          setSuggestions: setSuggestions,\n          setIsOpen: setIsOpen,\n          setStatus: setStatus,\n          setContext: setContext\n        });\n      }\n\n      store.send('focus', null);\n    }\n\n    var isTouchDevice = 'ontouchstart' in props.environment;\n\n    var inputElement = providedProps.inputElement,\n        _providedProps$maxLen = providedProps.maxLength,\n        maxLength = _providedProps$maxLen === void 0 ? 512 : _providedProps$maxLen,\n        rest = _objectWithoutProperties(providedProps, [\"inputElement\", \"maxLength\"]);\n\n    return _objectSpread({\n      'aria-autocomplete': props.showCompletion ? 'both' : 'list',\n      'aria-activedescendant': store.getState().isOpen && store.getState().highlightedIndex !== null ? \"\".concat(props.id, \"-item-\").concat(store.getState().highlightedIndex) : undefined,\n      'aria-controls': store.getState().isOpen ? \"\".concat(props.id, \"-menu\") : undefined,\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      value: store.getState().query,\n      id: \"\".concat(props.id, \"-input\"),\n      autoComplete: 'off',\n      autoCorrect: 'off',\n      autoCapitalize: 'off',\n      spellCheck: false,\n      autoFocus: props.autoFocus,\n      placeholder: props.placeholder,\n      maxLength: maxLength,\n      onChange: function onChange(event) {\n        onInput({\n          query: event.currentTarget.value.slice(0, maxLength),\n          store: store,\n          props: props,\n          setHighlightedIndex: setHighlightedIndex,\n          setQuery: setQuery,\n          setSuggestions: setSuggestions,\n          setIsOpen: setIsOpen,\n          setStatus: setStatus,\n          setContext: setContext\n        });\n      },\n      onKeyDown: function onKeyDown(event) {\n        _onKeyDown({\n          event: event,\n          store: store,\n          props: props,\n          setHighlightedIndex: setHighlightedIndex,\n          setQuery: setQuery,\n          setSuggestions: setSuggestions,\n          setIsOpen: setIsOpen,\n          setStatus: setStatus,\n          setContext: setContext\n        });\n      },\n      onFocus: onFocus,\n      onBlur: function onBlur() {\n        // We do rely on the `blur` event on touch devices.\n        // See explanation in `onTouchStart`.\n        if (!isTouchDevice) {\n          store.send('blur', null);\n        }\n      },\n      onClick: function onClick() {\n        // When the dropdown is closed and you click on the input while\n        // the input is focused, the `onFocus` event is not triggered\n        // (default browser behavior).\n        // In an autocomplete context, it makes sense to open the menu in this\n        // case.\n        // We mimic this event by catching the `onClick` event which\n        // triggers the `onFocus` for the dropdown to open.\n        if (providedProps.inputElement === props.environment.document.activeElement && !store.getState().isOpen) {\n          onFocus();\n        }\n      }\n    }, rest);\n  };\n\n  var getLabelProps = function getLabelProps(rest) {\n    return _objectSpread({\n      htmlFor: \"\".concat(props.id, \"-input\"),\n      id: \"\".concat(props.id, \"-label\")\n    }, rest);\n  };\n\n  var getMenuProps = function getMenuProps(rest) {\n    return _objectSpread({\n      role: 'listbox',\n      'aria-labelledby': \"\".concat(props.id, \"-label\"),\n      id: \"\".concat(props.id, \"-menu\")\n    }, rest);\n  };\n\n  var getDropdownProps = function getDropdownProps(rest) {\n    return _objectSpread({\n      onMouseLeave: function onMouseLeave() {\n        store.send('mouseleave', null);\n      }\n    }, rest);\n  };\n\n  var getItemProps = function getItemProps(providedProps) {\n    var item = providedProps.item,\n        source = providedProps.source,\n        rest = _objectWithoutProperties(providedProps, [\"item\", \"source\"]);\n\n    return _objectSpread({\n      id: \"\".concat(props.id, \"-item-\").concat(item.__autocomplete_id),\n      role: 'option',\n      'aria-selected': store.getState().highlightedIndex === item.__autocomplete_id,\n      onMouseMove: function onMouseMove(event) {\n        if (item.__autocomplete_id === store.getState().highlightedIndex) {\n          return;\n        }\n\n        store.send('mousemove', item.__autocomplete_id);\n        var highlightedItem = getHighlightedItem({\n          state: store.getState()\n        });\n\n        if (store.getState().highlightedIndex !== null && highlightedItem) {\n          var _item = highlightedItem.item,\n              itemValue = highlightedItem.itemValue,\n              itemUrl = highlightedItem.itemUrl,\n              _source = highlightedItem.source;\n\n          _source.onHighlight({\n            suggestion: _item,\n            suggestionValue: itemValue,\n            suggestionUrl: itemUrl,\n            source: _source,\n            state: store.getState(),\n            setHighlightedIndex: setHighlightedIndex,\n            setQuery: setQuery,\n            setSuggestions: setSuggestions,\n            setIsOpen: setIsOpen,\n            setStatus: setStatus,\n            setContext: setContext,\n            event: event\n          });\n        }\n      },\n      onMouseDown: function onMouseDown(event) {\n        // Prevents the `activeElement` from being changed to the item so it\n        // can remain with the current `activeElement`.\n        event.preventDefault();\n      },\n      onClick: function onClick(event) {\n        // If `getSuggestionUrl` is provided, it means that the suggestion\n        // is a link, not plain text that aims at updating the query.\n        // We can therefore skip the state change because it will update\n        // the `highlightedIndex`, resulting in a UI flash, especially\n        // noticeable on mobile.\n        if (source.getSuggestionUrl({\n          suggestion: item,\n          state: store.getState()\n        }) !== undefined) {\n          return;\n        } // We ignore all modified clicks to support default browsers' behavior.\n\n\n        if (isSpecialClick(event)) {\n          return;\n        }\n\n        var inputValue = source.getInputValue({\n          suggestion: item,\n          state: store.getState()\n        });\n        onInput({\n          query: inputValue,\n          store: store,\n          props: props,\n          setHighlightedIndex: setHighlightedIndex,\n          setQuery: setQuery,\n          setSuggestions: setSuggestions,\n          setIsOpen: setIsOpen,\n          setStatus: setStatus,\n          setContext: setContext,\n          nextState: {\n            isOpen: false\n          }\n        }).then(function () {\n          source.onSelect({\n            suggestion: item,\n            suggestionValue: inputValue,\n            suggestionUrl: source.getSuggestionUrl({\n              suggestion: item,\n              state: store.getState()\n            }),\n            source: source,\n            state: store.getState(),\n            setHighlightedIndex: setHighlightedIndex,\n            setQuery: setQuery,\n            setSuggestions: setSuggestions,\n            setIsOpen: setIsOpen,\n            setStatus: setStatus,\n            setContext: setContext,\n            event: event\n          });\n        });\n      }\n    }, rest);\n  };\n\n  return {\n    getEnvironmentProps: getEnvironmentProps,\n    getRootProps: getRootProps,\n    getFormProps: getFormProps,\n    getLabelProps: getLabelProps,\n    getInputProps: getInputProps,\n    getDropdownProps: getDropdownProps,\n    getMenuProps: getMenuProps,\n    getItemProps: getItemProps\n  };\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function getAutocompleteSetters(_ref) {\n  var store = _ref.store;\n\n  var setHighlightedIndex = function setHighlightedIndex(value) {\n    store.send('setHighlightedIndex', value);\n  };\n\n  var setQuery = function setQuery(value) {\n    store.send('setQuery', value);\n  };\n\n  var setSuggestions = function setSuggestions(rawValue) {\n    var baseItemId = 0;\n    var value = rawValue.map(function (suggestion) {\n      return _objectSpread({}, suggestion, {\n        items: suggestion.items.map(function (item) {\n          return _objectSpread({}, item, {\n            __autocomplete_id: baseItemId++\n          });\n        })\n      });\n    });\n    store.send('setSuggestions', value);\n  };\n\n  var setIsOpen = function setIsOpen(value) {\n    store.send('setIsOpen', value);\n  };\n\n  var setStatus = function setStatus(value) {\n    store.send('setStatus', value);\n  };\n\n  var setContext = function setContext(value) {\n    store.send('setContext', value);\n  };\n\n  return {\n    setHighlightedIndex: setHighlightedIndex,\n    setQuery: setQuery,\n    setSuggestions: setSuggestions,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  };\n}","import { stateReducer } from './stateReducer';\nimport { getDefaultProps } from './defaultProps';\nimport { createStore } from './store';\nimport { getPropGetters } from './propGetters';\nimport { getAutocompleteSetters } from './setters';\nimport { onInput } from './onInput';\n\nfunction createAutocomplete(options) {\n  var props = getDefaultProps(options);\n  var store = createStore(stateReducer, props);\n\n  var _getAutocompleteSette = getAutocompleteSetters({\n    store: store\n  }),\n      setHighlightedIndex = _getAutocompleteSette.setHighlightedIndex,\n      setQuery = _getAutocompleteSette.setQuery,\n      setSuggestions = _getAutocompleteSette.setSuggestions,\n      setIsOpen = _getAutocompleteSette.setIsOpen,\n      setStatus = _getAutocompleteSette.setStatus,\n      setContext = _getAutocompleteSette.setContext;\n\n  var _getPropGetters = getPropGetters({\n    store: store,\n    props: props,\n    setHighlightedIndex: setHighlightedIndex,\n    setQuery: setQuery,\n    setSuggestions: setSuggestions,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext\n  }),\n      getEnvironmentProps = _getPropGetters.getEnvironmentProps,\n      getRootProps = _getPropGetters.getRootProps,\n      getFormProps = _getPropGetters.getFormProps,\n      getLabelProps = _getPropGetters.getLabelProps,\n      getInputProps = _getPropGetters.getInputProps,\n      getDropdownProps = _getPropGetters.getDropdownProps,\n      getMenuProps = _getPropGetters.getMenuProps,\n      getItemProps = _getPropGetters.getItemProps;\n\n  function refresh() {\n    return onInput({\n      query: store.getState().query,\n      store: store,\n      props: props,\n      setHighlightedIndex: setHighlightedIndex,\n      setQuery: setQuery,\n      setSuggestions: setSuggestions,\n      setIsOpen: setIsOpen,\n      setStatus: setStatus,\n      setContext: setContext\n    });\n  }\n\n  return {\n    setHighlightedIndex: setHighlightedIndex,\n    setQuery: setQuery,\n    setSuggestions: setSuggestions,\n    setIsOpen: setIsOpen,\n    setStatus: setStatus,\n    setContext: setContext,\n    getEnvironmentProps: getEnvironmentProps,\n    getRootProps: getRootProps,\n    getFormProps: getFormProps,\n    getInputProps: getInputProps,\n    getLabelProps: getLabelProps,\n    getDropdownProps: getDropdownProps,\n    getMenuProps: getMenuProps,\n    getItemProps: getItemProps,\n    refresh: refresh\n  };\n}\n\nexport { createAutocomplete };","export function flatten(values) {\n  return values.reduce(function (a, b) {\n    return a.concat(b);\n  }, []);\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { flatten } from './utils';\n\nfunction getAlgoliaSource(_ref) {\n  var searchClient = _ref.searchClient,\n      queries = _ref.queries;\n\n  if (typeof searchClient.addAlgoliaAgent === 'function') {\n    searchClient.addAlgoliaAgent(\"autocomplete-core (\".concat(\"1.0.0-alpha.10\", \")\"));\n  }\n\n  return searchClient.search(queries.map(function (searchParameters) {\n    var indexName = searchParameters.indexName,\n        query = searchParameters.query,\n        params = searchParameters.params;\n    return {\n      indexName: indexName,\n      query: query,\n      params: _objectSpread({\n        hitsPerPage: 5,\n        highlightPreTag: '<mark>',\n        highlightPostTag: '</mark>'\n      }, params)\n    };\n  }));\n}\n\nexport function getAlgoliaResults(_ref2) {\n  var searchClient = _ref2.searchClient,\n      queries = _ref2.queries;\n  return getAlgoliaSource({\n    searchClient: searchClient,\n    queries: queries\n  }).then(function (response) {\n    return response.results;\n  });\n}\nexport function getAlgoliaHits(_ref3) {\n  var searchClient = _ref3.searchClient,\n      queries = _ref3.queries;\n  return getAlgoliaSource({\n    searchClient: searchClient,\n    queries: queries\n  }).then(function (response) {\n    var results = response.results; // @TODO: should `getAlgoliaHits` flatten the hits?\n\n    return flatten(results.map(function (result) {\n      return result.hits;\n    }));\n  });\n}","export const MAX_QUERY_SIZE = 64;\n","export function groupBy<TValue extends object>(\n  values: TValue[],\n  predicate: (value: TValue) => string\n): Record<string, TValue[]> {\n  return values.reduce<Record<string, TValue[]>>((acc, item) => {\n    const key = predicate(item);\n\n    if (!acc.hasOwnProperty(key)) {\n      acc[key] = [];\n    }\n\n    acc[key].push(item);\n\n    return acc;\n  }, {});\n}\n","export function noop(..._args: any[]): void {}\n","import { DocSearchHit, StoredDocSearchHit } from './types';\n\nfunction isLocalStorageSupported() {\n  const key = '__TEST_KEY__';\n\n  try {\n    localStorage.setItem(key, '');\n    localStorage.removeItem(key);\n\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nfunction createStorage<TItem>(key: string) {\n  if (isLocalStorageSupported() === false) {\n    return {\n      setItem() {},\n      getItem() {\n        return [];\n      },\n    };\n  }\n\n  return {\n    setItem(item: TItem[]) {\n      return window.localStorage.setItem(key, JSON.stringify(item));\n    },\n    getItem(): TItem[] {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : [];\n    },\n  };\n}\n\ntype CreateStoredSearchesOptions = {\n  key: string;\n  limit?: number;\n};\n\nexport type StoredSearchPlugin<TItem> = {\n  add(item: TItem): void;\n  remove(item: TItem): void;\n  getAll(): TItem[];\n};\n\nexport function createStoredSearches<TItem extends StoredDocSearchHit>({\n  key,\n  limit = 5,\n}: CreateStoredSearchesOptions): StoredSearchPlugin<TItem> {\n  const storage = createStorage<TItem>(key);\n  let items = storage.getItem().slice(0, limit);\n\n  return {\n    add(item: TItem) {\n      const {\n        _highlightResult,\n        _snippetResult,\n        ...hit\n      } = (item as unknown) as DocSearchHit;\n\n      const isQueryAlreadySaved = items.findIndex(\n        x => x.objectID === hit.objectID\n      );\n\n      if (isQueryAlreadySaved > -1) {\n        items.splice(isQueryAlreadySaved, 1);\n      }\n\n      items.unshift(hit as TItem);\n      items = items.slice(0, limit);\n\n      storage.setItem(items);\n    },\n    remove(item: TItem) {\n      items = items.filter(x => x.objectID !== item.objectID);\n\n      storage.setItem(items);\n    },\n    getAll() {\n      return items;\n    },\n  };\n}\n","function createBrowserLocalStorageCache(options) {\r\n    const namespaceKey = `algoliasearch-client-js-${options.key}`;\r\n    // eslint-disable-next-line functional/no-let\r\n    let storage;\r\n    const getStorage = () => {\r\n        if (storage === undefined) {\r\n            storage = options.localStorage || window.localStorage;\r\n        }\r\n        return storage;\r\n    };\r\n    const getNamespace = () => {\r\n        return JSON.parse(getStorage().getItem(namespaceKey) || '{}');\r\n    };\r\n    return {\r\n        get(key, defaultValue, events = {\r\n            miss: () => Promise.resolve(),\r\n        }) {\r\n            return Promise.resolve()\r\n                .then(() => {\r\n                const keyAsString = JSON.stringify(key);\r\n                const value = getNamespace()[keyAsString];\r\n                return Promise.all([value || defaultValue(), value !== undefined]);\r\n            })\r\n                .then(([value, exists]) => {\r\n                return Promise.all([value, exists || events.miss(value)]);\r\n            })\r\n                .then(([value]) => value);\r\n        },\r\n        set(key, value) {\r\n            return Promise.resolve().then(() => {\r\n                const namespace = getNamespace();\r\n                // eslint-disable-next-line functional/immutable-data\r\n                namespace[JSON.stringify(key)] = value;\r\n                getStorage().setItem(namespaceKey, JSON.stringify(namespace));\r\n                return value;\r\n            });\r\n        },\r\n        delete(key) {\r\n            return Promise.resolve().then(() => {\r\n                const namespace = getNamespace();\r\n                // eslint-disable-next-line functional/immutable-data\r\n                delete namespace[JSON.stringify(key)];\r\n                getStorage().setItem(namespaceKey, JSON.stringify(namespace));\r\n            });\r\n        },\r\n        clear() {\r\n            return Promise.resolve().then(() => {\r\n                getStorage().removeItem(namespaceKey);\r\n            });\r\n        },\r\n    };\r\n}\n\n// @todo Add logger on options to debug when caches go wrong.\r\nfunction createFallbackableCache(options) {\r\n    const caches = [...options.caches];\r\n    const current = caches.shift(); // eslint-disable-line functional/immutable-data\r\n    if (current === undefined) {\r\n        return createNullCache();\r\n    }\r\n    return {\r\n        get(key, defaultValue, events = {\r\n            miss: () => Promise.resolve(),\r\n        }) {\r\n            return current.get(key, defaultValue, events).catch(() => {\r\n                return createFallbackableCache({ caches }).get(key, defaultValue, events);\r\n            });\r\n        },\r\n        set(key, value) {\r\n            return current.set(key, value).catch(() => {\r\n                return createFallbackableCache({ caches }).set(key, value);\r\n            });\r\n        },\r\n        delete(key) {\r\n            return current.delete(key).catch(() => {\r\n                return createFallbackableCache({ caches }).delete(key);\r\n            });\r\n        },\r\n        clear() {\r\n            return current.clear().catch(() => {\r\n                return createFallbackableCache({ caches }).clear();\r\n            });\r\n        },\r\n    };\r\n}\n\nfunction createNullCache() {\r\n    return {\r\n        get(_key, defaultValue, events = {\r\n            miss: () => Promise.resolve(),\r\n        }) {\r\n            const value = defaultValue();\r\n            return value\r\n                .then(result => Promise.all([result, events.miss(result)]))\r\n                .then(([result]) => result);\r\n        },\r\n        set(_key, value) {\r\n            return Promise.resolve(value);\r\n        },\r\n        delete(_key) {\r\n            return Promise.resolve();\r\n        },\r\n        clear() {\r\n            return Promise.resolve();\r\n        },\r\n    };\r\n}\n\nfunction createInMemoryCache(options = { serializable: true }) {\r\n    // eslint-disable-next-line functional/no-let\r\n    let cache = {};\r\n    return {\r\n        get(key, defaultValue, events = {\r\n            miss: () => Promise.resolve(),\r\n        }) {\r\n            const keyAsString = JSON.stringify(key);\r\n            if (keyAsString in cache) {\r\n                return Promise.resolve(options.serializable ? JSON.parse(cache[keyAsString]) : cache[keyAsString]);\r\n            }\r\n            const promise = defaultValue();\r\n            const miss = (events && events.miss) || (() => Promise.resolve());\r\n            return promise.then((value) => miss(value)).then(() => promise);\r\n        },\r\n        set(key, value) {\r\n            // eslint-disable-next-line functional/immutable-data\r\n            cache[JSON.stringify(key)] = options.serializable ? JSON.stringify(value) : value;\r\n            return Promise.resolve(value);\r\n        },\r\n        delete(key) {\r\n            // eslint-disable-next-line functional/immutable-data\r\n            delete cache[JSON.stringify(key)];\r\n            return Promise.resolve();\r\n        },\r\n        clear() {\r\n            cache = {};\r\n            return Promise.resolve();\r\n        },\r\n    };\r\n}\n\nfunction createAuth(authMode, appId, apiKey) {\r\n    const credentials = {\r\n        'x-algolia-api-key': apiKey,\r\n        'x-algolia-application-id': appId,\r\n    };\r\n    return {\r\n        headers() {\r\n            return authMode === AuthMode.WithinHeaders ? credentials : {};\r\n        },\r\n        queryParameters() {\r\n            return authMode === AuthMode.WithinQueryParameters ? credentials : {};\r\n        },\r\n    };\r\n}\n\n// eslint-disable-next-line functional/prefer-readonly-type\r\nfunction shuffle(array) {\r\n    let c = array.length - 1; // eslint-disable-line functional/no-let\r\n    // eslint-disable-next-line functional/no-loop-statement\r\n    for (c; c > 0; c--) {\r\n        const b = Math.floor(Math.random() * (c + 1));\r\n        const a = array[c];\r\n        array[c] = array[b]; // eslint-disable-line functional/immutable-data, no-param-reassign\r\n        array[b] = a; // eslint-disable-line functional/immutable-data, no-param-reassign\r\n    }\r\n    return array;\r\n}\r\nfunction addMethods(base, methods) {\r\n    Object.keys(methods !== undefined ? methods : {}).forEach(key => {\r\n        // @ts-ignore\r\n        // eslint-disable-next-line functional/immutable-data, no-param-reassign\r\n        base[key] = methods[key](base);\r\n    });\r\n    // @ts-ignore\r\n    return base;\r\n}\r\nfunction encode(format, ...args) {\r\n    // eslint-disable-next-line functional/no-let\r\n    let i = 0;\r\n    return format.replace(/%s/g, () => encodeURIComponent(args[i++]));\r\n}\n\nconst version = '4.1.0';\n\nconst AuthMode = {\r\n    /**\r\n     * If auth credentials should be in query parameters.\r\n     */\r\n    WithinQueryParameters: 0,\r\n    /**\r\n     * If auth credentials should be in headers.\r\n     */\r\n    WithinHeaders: 1,\r\n};\n\nfunction createMappedRequestOptions(requestOptions, timeout) {\r\n    const options = requestOptions || {};\r\n    const data = options.data || {};\r\n    Object.keys(options).forEach(key => {\r\n        if (['timeout', 'headers', 'queryParameters', 'data', 'cacheable'].indexOf(key) === -1) {\r\n            data[key] = options[key]; // eslint-disable-line functional/immutable-data\r\n        }\r\n    });\r\n    return {\r\n        data: Object.entries(data).length > 0 ? data : undefined,\r\n        timeout: options.timeout || timeout,\r\n        headers: options.headers || {},\r\n        queryParameters: options.queryParameters || {},\r\n        cacheable: options.cacheable,\r\n    };\r\n}\n\nconst CallEnum = {\r\n    /**\r\n     * If the host is read only.\r\n     */\r\n    Read: 1,\r\n    /**\r\n     * If the host is write only.\r\n     */\r\n    Write: 2,\r\n    /**\r\n     * If the host is both read and write.\r\n     */\r\n    Any: 3,\r\n};\n\nconst HostStatusEnum = {\r\n    Up: 1,\r\n    Down: 2,\r\n    Timeouted: 3,\r\n};\n\n// By default, API Clients at Algolia have expiration delay\r\n// of 5 mins. In the JavaScript client, we have 2 mins.\r\nconst EXPIRATION_DELAY = 2 * 60 * 1000;\r\nfunction createStatefulHost(host, status = HostStatusEnum.Up) {\r\n    return {\r\n        ...host,\r\n        status,\r\n        lastUpdate: Date.now(),\r\n    };\r\n}\r\nfunction isStatefulHostUp(host) {\r\n    return host.status === HostStatusEnum.Up || Date.now() - host.lastUpdate > EXPIRATION_DELAY;\r\n}\r\nfunction isStatefulHostTimeouted(host) {\r\n    return (host.status === HostStatusEnum.Timeouted && Date.now() - host.lastUpdate <= EXPIRATION_DELAY);\r\n}\n\nfunction createStatelessHost(options) {\r\n    return {\r\n        protocol: options.protocol || 'https',\r\n        url: options.url,\r\n        accept: options.accept || CallEnum.Any,\r\n    };\r\n}\n\nconst MethodEnum = {\r\n    Delete: 'DELETE',\r\n    Get: 'GET',\r\n    Post: 'POST',\r\n    Put: 'PUT',\r\n};\n\nfunction createRetryableOptions(hostsCache, statelessHosts) {\r\n    return Promise.all(statelessHosts.map(statelessHost => {\r\n        return hostsCache.get(statelessHost, () => {\r\n            return Promise.resolve(createStatefulHost(statelessHost));\r\n        });\r\n    })).then(statefulHosts => {\r\n        const hostsUp = statefulHosts.filter(host => isStatefulHostUp(host));\r\n        const hostsTimeouted = statefulHosts.filter(host => isStatefulHostTimeouted(host));\r\n        /**\r\n         * Note, we put the hosts that previously timeouted on the end of the list.\r\n         */\r\n        const hostsAvailable = [...hostsUp, ...hostsTimeouted];\r\n        const statelessHostsAvailable = hostsAvailable.length > 0\r\n            ? hostsAvailable.map(host => createStatelessHost(host))\r\n            : statelessHosts;\r\n        return {\r\n            getTimeout(timeoutsCount, baseTimeout) {\r\n                /**\r\n                 * Imagine that you have 4 hosts, if timeouts will increase\r\n                 * on the following way: 1 (timeouted) > 4 (timeouted) > 5 (200)\r\n                 *\r\n                 * Note that, the very next request, we start from the previous timeout\r\n                 *\r\n                 *  5 (timeouted) > 6 (timeouted) > 7 ...\r\n                 *\r\n                 * This strategy may need to be reviewed, but is the strategy on the our\r\n                 * current v3 version.\r\n                 */\r\n                const timeoutMultiplier = hostsTimeouted.length === 0 && timeoutsCount === 0\r\n                    ? 1\r\n                    : hostsTimeouted.length + 3 + timeoutsCount;\r\n                return timeoutMultiplier * baseTimeout;\r\n            },\r\n            statelessHosts: statelessHostsAvailable,\r\n        };\r\n    });\r\n}\n\nconst isNetworkError = ({ isTimedOut, status }) => {\r\n    return !isTimedOut && ~~status === 0;\r\n};\r\nconst isRetryable = (response) => {\r\n    const status = response.status;\r\n    const isTimedOut = response.isTimedOut;\r\n    return (isTimedOut || isNetworkError(response) || (~~(status / 100) !== 2 && ~~(status / 100) !== 4));\r\n};\r\nconst isSuccess = ({ status }) => {\r\n    return ~~(status / 100) === 2;\r\n};\r\nconst retryDecision = (response, outcomes) => {\r\n    if (isRetryable(response)) {\r\n        return outcomes.onRetry(response);\r\n    }\r\n    if (isSuccess(response)) {\r\n        return outcomes.onSucess(response);\r\n    }\r\n    return outcomes.onFail(response);\r\n};\n\nfunction retryableRequest(transporter, statelessHosts, request, requestOptions) {\r\n    const stackTrace = []; // eslint-disable-line functional/prefer-readonly-type\r\n    /**\r\n     * First we prepare the payload that do not depend from hosts.\r\n     */\r\n    const data = serializeData(request, requestOptions);\r\n    const headers = serializeHeaders(transporter, requestOptions);\r\n    const method = request.method;\r\n    // On `GET`, the data is proxied to query parameters.\r\n    const dataQueryParameters = request.method !== MethodEnum.Get\r\n        ? {}\r\n        : {\r\n            ...request.data,\r\n            ...requestOptions.data,\r\n        };\r\n    const queryParameters = {\r\n        'x-algolia-agent': transporter.userAgent.value,\r\n        ...transporter.queryParameters,\r\n        ...dataQueryParameters,\r\n        ...requestOptions.queryParameters,\r\n    };\r\n    let timeoutsCount = 0; // eslint-disable-line functional/no-let\r\n    const retry = (hosts, // eslint-disable-line functional/prefer-readonly-type\r\n    getTimeout) => {\r\n        /**\r\n         * We iterate on each host, until there is no host left.\r\n         */\r\n        const host = hosts.pop(); // eslint-disable-line functional/immutable-data\r\n        if (host === undefined) {\r\n            throw createRetryError(stackTraceWithoutCredentials(stackTrace));\r\n        }\r\n        const payload = {\r\n            data,\r\n            headers,\r\n            method,\r\n            url: serializeUrl(host, request.path, queryParameters),\r\n            connectTimeout: getTimeout(timeoutsCount, transporter.timeouts.connect),\r\n            responseTimeout: getTimeout(timeoutsCount, requestOptions.timeout),\r\n        };\r\n        /**\r\n         * The stackFrame is pushed to the stackTrace so we\r\n         * can have information about onRetry and onFailure\r\n         * decisions.\r\n         */\r\n        const pushToStackTrace = (response) => {\r\n            const stackFrame = {\r\n                request: payload,\r\n                response,\r\n                host,\r\n                triesLeft: hosts.length,\r\n            };\r\n            // eslint-disable-next-line functional/immutable-data\r\n            stackTrace.push(stackFrame);\r\n            return stackFrame;\r\n        };\r\n        const decisions = {\r\n            onSucess: response => deserializeSuccess(response),\r\n            onRetry(response) {\r\n                const stackFrame = pushToStackTrace(response);\r\n                /**\r\n                 * If response is a timeout, we increaset the number of\r\n                 * timeouts so we can increase the timeout later.\r\n                 */\r\n                if (response.isTimedOut) {\r\n                    timeoutsCount++;\r\n                }\r\n                return Promise.all([\r\n                    /**\r\n                     * Failures are individually send the logger, allowing\r\n                     * the end user to debug / store stack frames even\r\n                     * when a retry error does not happen.\r\n                     */\r\n                    transporter.logger.info('Retryable failure', stackFrameWithoutCredentials(stackFrame)),\r\n                    /**\r\n                     * We also store the state of the host in failure cases. If the host, is\r\n                     * down it will remain down for the next 2 minutes. In a timeout situation,\r\n                     * this host will be added end of the list of hosts on the next request.\r\n                     */\r\n                    transporter.hostsCache.set(host, createStatefulHost(host, response.isTimedOut ? HostStatusEnum.Timeouted : HostStatusEnum.Down)),\r\n                ]).then(() => retry(hosts, getTimeout));\r\n            },\r\n            onFail(response) {\r\n                pushToStackTrace(response);\r\n                throw deserializeFailure(response, stackTraceWithoutCredentials(stackTrace));\r\n            },\r\n        };\r\n        return transporter.requester.send(payload).then(response => {\r\n            return retryDecision(response, decisions);\r\n        });\r\n    };\r\n    /**\r\n     * Finally, for each retryable host perform request until we got a non\r\n     * retryable response. Some notes here:\r\n     *\r\n     * 1. The reverse here is applied so we can apply a `pop` later on => more performant.\r\n     * 2. We also get from the retryable options a timeout multiplier that is tailored\r\n     * for the current context.\r\n     */\r\n    return createRetryableOptions(transporter.hostsCache, statelessHosts).then(options => {\r\n        return retry([...options.statelessHosts].reverse(), options.getTimeout);\r\n    });\r\n}\n\nfunction createTransporter(options) {\r\n    const { hostsCache, logger, requester, requestsCache, responsesCache, timeouts, userAgent, hosts, queryParameters, headers, } = options;\r\n    const transporter = {\r\n        hostsCache,\r\n        logger,\r\n        requester,\r\n        requestsCache,\r\n        responsesCache,\r\n        timeouts,\r\n        userAgent,\r\n        headers,\r\n        queryParameters,\r\n        hosts: hosts.map(host => createStatelessHost(host)),\r\n        read(request, requestOptions) {\r\n            /**\r\n             * First, we compute the user request options. Now, keep in mind,\r\n             * that using request options the user is able to modified the intire\r\n             * payload of the request. Such as headers, query parameters, and others.\r\n             */\r\n            const mappedRequestOptions = createMappedRequestOptions(requestOptions, transporter.timeouts.read);\r\n            const createRetryableRequest = () => {\r\n                /**\r\n                 * Then, we prepare a function factory that contains the construction of\r\n                 * the retryable request. At this point, we may *not* perform the actual\r\n                 * request. But we want to have the function factory ready.\r\n                 */\r\n                return retryableRequest(transporter, transporter.hosts.filter(host => (host.accept & CallEnum.Read) !== 0), request, mappedRequestOptions);\r\n            };\r\n            /**\r\n             * Once we have the function factory ready, we need to determine of the\r\n             * request is \"cacheable\" - should be cached. Note that, once again,\r\n             * the user can force this option.\r\n             */\r\n            const cacheable = mappedRequestOptions.cacheable !== undefined\r\n                ? mappedRequestOptions.cacheable\r\n                : request.cacheable;\r\n            /**\r\n             * If is not \"cacheable\", we immediatly trigger the retryable request, no\r\n             * need to check cache implementations.\r\n             */\r\n            if (cacheable !== true) {\r\n                return createRetryableRequest();\r\n            }\r\n            /**\r\n             * If the request is \"cacheable\", we need to first compute the key to ask\r\n             * the cache implementations if this request is on progress or if the\r\n             * response already exists on the cache.\r\n             */\r\n            const key = {\r\n                request,\r\n                mappedRequestOptions,\r\n                transporter: {\r\n                    queryParameters: transporter.queryParameters,\r\n                    headers: transporter.headers,\r\n                },\r\n            };\r\n            /**\r\n             * With the computed key, we first ask the responses cache\r\n             * implemention if this request was been resolved before.\r\n             */\r\n            return transporter.responsesCache.get(key, () => {\r\n                /**\r\n                 * If the request has never resolved before, we actually ask if there\r\n                 * is a current request with the same key on progress.\r\n                 */\r\n                return transporter.requestsCache.get(key, () => {\r\n                    return (transporter.requestsCache\r\n                        /**\r\n                         * Finally, if there is no request in progress with the same key,\r\n                         * this `createRetryableRequest()` will actually trigger the\r\n                         * retryable request.\r\n                         */\r\n                        .set(key, createRetryableRequest())\r\n                        .then(response => Promise.all([transporter.requestsCache.delete(key), response]), err => Promise.all([transporter.requestsCache.delete(key), Promise.reject(err)]))\r\n                        .then(([_, response]) => response));\r\n                });\r\n            }, {\r\n                /**\r\n                 * Of course, once we get this response back from the server, we\r\n                 * tell response cache to actually store the received response\r\n                 * to be used later.\r\n                 */\r\n                miss: response => transporter.responsesCache.set(key, response),\r\n            });\r\n        },\r\n        write(request, requestOptions) {\r\n            /**\r\n             * On write requests, no cache mechanisms are applied, and we\r\n             * proxy the request immediately to the requester.\r\n             */\r\n            return retryableRequest(transporter, transporter.hosts.filter(host => (host.accept & CallEnum.Write) !== 0), request, createMappedRequestOptions(requestOptions, transporter.timeouts.write));\r\n        },\r\n    };\r\n    return transporter;\r\n}\n\nfunction createUserAgent(version) {\r\n    const userAgent = {\r\n        value: `Algolia for JavaScript (${version})`,\r\n        add(options) {\r\n            const addedUserAgent = `; ${options.segment}${options.version !== undefined ? ` (${options.version})` : ''}`;\r\n            if (userAgent.value.indexOf(addedUserAgent) === -1) {\r\n                // eslint-disable-next-line functional/immutable-data\r\n                userAgent.value = `${userAgent.value}${addedUserAgent}`;\r\n            }\r\n            return userAgent;\r\n        },\r\n    };\r\n    return userAgent;\r\n}\n\nfunction deserializeSuccess(response) {\r\n    // eslint-disable-next-line functional/no-try-statement\r\n    try {\r\n        return JSON.parse(response.content);\r\n    }\r\n    catch (e) {\r\n        throw createDeserializationError(e.message, response);\r\n    }\r\n}\r\nfunction deserializeFailure({ content, status }, stackFrame) {\r\n    // eslint-disable-next-line functional/no-let\r\n    let message = content;\r\n    // eslint-disable-next-line functional/no-try-statement\r\n    try {\r\n        message = JSON.parse(content).message;\r\n    }\r\n    catch (e) {\r\n        // ..\r\n    }\r\n    return createApiError(message, status, stackFrame);\r\n}\n\nfunction serializeUrl(host, path, queryParameters) {\r\n    const queryParametersAsString = serializeQueryParameters(queryParameters);\r\n    // eslint-disable-next-line functional/no-let\r\n    let url = `${host.protocol}://${host.url}/${path.charAt(0) === '/' ? path.substr(1) : path}`;\r\n    if (queryParametersAsString.length) {\r\n        url += `?${queryParametersAsString}`;\r\n    }\r\n    return url;\r\n}\r\nfunction serializeQueryParameters(parameters) {\r\n    const isObjectOrArray = (value) => Object.prototype.toString.call(value) === '[object Object]' ||\r\n        Object.prototype.toString.call(value) === '[object Array]';\r\n    return Object.keys(parameters)\r\n        .map(key => encode('%s=%s', key, isObjectOrArray(parameters[key]) ? JSON.stringify(parameters[key]) : parameters[key]))\r\n        .join('&');\r\n}\r\nfunction serializeData(request, requestOptions) {\r\n    if (request.method === MethodEnum.Get ||\r\n        (request.data === undefined && requestOptions.data === undefined)) {\r\n        return undefined;\r\n    }\r\n    const data = Array.isArray(request.data)\r\n        ? request.data\r\n        : { ...request.data, ...requestOptions.data };\r\n    return JSON.stringify(data);\r\n}\r\nfunction serializeHeaders(transporter, requestOptions) {\r\n    const headers = {\r\n        ...transporter.headers,\r\n        ...requestOptions.headers,\r\n    };\r\n    const serializedHeaders = {};\r\n    Object.keys(headers).forEach(header => {\r\n        const value = headers[header];\r\n        // @ts-ignore\r\n        // eslint-disable-next-line functional/immutable-data\r\n        serializedHeaders[header.toLowerCase()] = value;\r\n    });\r\n    return serializedHeaders;\r\n}\n\nfunction stackTraceWithoutCredentials(stackTrace) {\r\n    return stackTrace.map(stackFrame => stackFrameWithoutCredentials(stackFrame));\r\n}\r\nfunction stackFrameWithoutCredentials(stackFrame) {\r\n    const modifiedHeaders = stackFrame.request.headers['x-algolia-api-key']\r\n        ? { 'x-algolia-api-key': '*****' }\r\n        : {};\r\n    return {\r\n        ...stackFrame,\r\n        request: {\r\n            ...stackFrame.request,\r\n            headers: {\r\n                ...stackFrame.request.headers,\r\n                ...modifiedHeaders,\r\n            },\r\n        },\r\n    };\r\n}\n\nfunction createApiError(message, status, transporterStackTrace) {\r\n    return {\r\n        name: 'ApiError',\r\n        message,\r\n        status,\r\n        transporterStackTrace,\r\n    };\r\n}\n\nfunction createDeserializationError(message, response) {\r\n    return {\r\n        name: 'DeserializationError',\r\n        message,\r\n        response,\r\n    };\r\n}\n\nfunction createRetryError(transporterStackTrace) {\r\n    return {\r\n        name: 'RetryError',\r\n        message: 'Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.',\r\n        transporterStackTrace,\r\n    };\r\n}\n\nconst createSearchClient = options => {\r\n    const appId = options.appId;\r\n    const auth = createAuth(options.authMode !== undefined ? options.authMode : AuthMode.WithinHeaders, appId, options.apiKey);\r\n    const transporter = createTransporter({\r\n        hosts: [\r\n            { url: `${appId}-dsn.algolia.net`, accept: CallEnum.Read },\r\n            { url: `${appId}.algolia.net`, accept: CallEnum.Write },\r\n        ].concat(shuffle([\r\n            { url: `${appId}-1.algolianet.com` },\r\n            { url: `${appId}-2.algolianet.com` },\r\n            { url: `${appId}-3.algolianet.com` },\r\n        ])),\r\n        ...options,\r\n        headers: {\r\n            ...auth.headers(),\r\n            ...{ 'content-type': 'application/x-www-form-urlencoded' },\r\n            ...options.headers,\r\n        },\r\n        queryParameters: {\r\n            ...auth.queryParameters(),\r\n            ...options.queryParameters,\r\n        },\r\n    });\r\n    const base = {\r\n        transporter,\r\n        appId,\r\n        addAlgoliaAgent(segment, version) {\r\n            transporter.userAgent.add({ segment, version });\r\n        },\r\n        clearCache() {\r\n            return Promise.all([\r\n                transporter.requestsCache.clear(),\r\n                transporter.responsesCache.clear(),\r\n            ]).then(() => undefined);\r\n        },\r\n    };\r\n    return addMethods(base, options.methods);\r\n};\n\nconst initIndex = (base) => {\r\n    return (indexName, options = {}) => {\r\n        const searchIndex = {\r\n            transporter: base.transporter,\r\n            appId: base.appId,\r\n            indexName,\r\n        };\r\n        return addMethods(searchIndex, options.methods);\r\n    };\r\n};\n\nconst multipleQueries = (base) => {\r\n    return (queries, requestOptions) => {\r\n        const requests = queries.map(query => {\r\n            return {\r\n                ...query,\r\n                params: serializeQueryParameters(query.params || {}),\r\n            };\r\n        });\r\n        return base.transporter.read({\r\n            method: MethodEnum.Post,\r\n            path: '1/indexes/*/queries',\r\n            data: {\r\n                requests,\r\n            },\r\n            cacheable: true,\r\n        }, requestOptions);\r\n    };\r\n};\n\nconst multipleSearchForFacetValues = (base) => {\r\n    return (queries, requestOptions) => {\r\n        return Promise.all(queries.map(query => {\r\n            const { facetName, facetQuery, ...params } = query.params;\r\n            return initIndex(base)(query.indexName, {\r\n                methods: { searchForFacetValues },\r\n            }).searchForFacetValues(facetName, facetQuery, {\r\n                ...requestOptions,\r\n                ...params,\r\n            });\r\n        }));\r\n    };\r\n};\n\nconst search = (base) => {\r\n    return (query, requestOptions) => {\r\n        return base.transporter.read({\r\n            method: MethodEnum.Post,\r\n            path: encode('1/indexes/%s/query', base.indexName),\r\n            data: {\r\n                query,\r\n            },\r\n            cacheable: true,\r\n        }, requestOptions);\r\n    };\r\n};\n\nconst searchForFacetValues = (base) => {\r\n    return (facetName, facetQuery, requestOptions) => {\r\n        return base.transporter.read({\r\n            method: MethodEnum.Post,\r\n            path: encode('1/indexes/%s/facets/%s/query', base.indexName, facetName),\r\n            data: {\r\n                facetQuery,\r\n            },\r\n            cacheable: true,\r\n        }, requestOptions);\r\n    };\r\n};\n\nconst LogLevelEnum = {\r\n    Debug: 1,\r\n    Info: 2,\r\n    Error: 3,\r\n};\n\n/* eslint no-console: 0 */\r\nfunction createConsoleLogger(logLevel) {\r\n    return {\r\n        debug(message, args) {\r\n            if (LogLevelEnum.Debug >= logLevel) {\r\n                console.debug(message, args);\r\n            }\r\n            return Promise.resolve();\r\n        },\r\n        info(message, args) {\r\n            if (LogLevelEnum.Info >= logLevel) {\r\n                console.info(message, args);\r\n            }\r\n            return Promise.resolve();\r\n        },\r\n        error(message, args) {\r\n            console.error(message, args);\r\n            return Promise.resolve();\r\n        },\r\n    };\r\n}\n\nfunction createBrowserXhrRequester() {\r\n    return {\r\n        send(request) {\r\n            return new Promise((resolve) => {\r\n                const baseRequester = new XMLHttpRequest();\r\n                baseRequester.open(request.method, request.url, true);\r\n                Object.keys(request.headers).forEach(key => baseRequester.setRequestHeader(key, request.headers[key]));\r\n                const createTimeout = (timeout, content) => {\r\n                    return setTimeout(() => {\r\n                        baseRequester.abort();\r\n                        resolve({\r\n                            status: 0,\r\n                            content,\r\n                            isTimedOut: true,\r\n                        });\r\n                    }, timeout * 1000);\r\n                };\r\n                const connectTimeout = createTimeout(request.connectTimeout, 'Connection timeout');\r\n                // eslint-disable-next-line functional/no-let\r\n                let responseTimeout;\r\n                // eslint-disable-next-line functional/immutable-data\r\n                baseRequester.onreadystatechange = () => {\r\n                    if (baseRequester.readyState > baseRequester.OPENED && responseTimeout === undefined) {\r\n                        clearTimeout(connectTimeout);\r\n                        responseTimeout = createTimeout(request.responseTimeout, 'Socket timeout');\r\n                    }\r\n                };\r\n                // eslint-disable-next-line functional/immutable-data\r\n                baseRequester.onerror = () => {\r\n                    // istanbul ignore next\r\n                    if (baseRequester.status === 0) {\r\n                        clearTimeout(connectTimeout);\r\n                        clearTimeout(responseTimeout);\r\n                        resolve({\r\n                            content: baseRequester.responseText || 'Network request failed',\r\n                            status: baseRequester.status,\r\n                            isTimedOut: false,\r\n                        });\r\n                    }\r\n                };\r\n                //  eslint-disable-next-line functional/immutable-data\r\n                baseRequester.onload = () => {\r\n                    clearTimeout(connectTimeout);\r\n                    clearTimeout(responseTimeout);\r\n                    resolve({\r\n                        content: baseRequester.responseText,\r\n                        status: baseRequester.status,\r\n                        isTimedOut: false,\r\n                    });\r\n                };\r\n                baseRequester.send(request.data);\r\n            });\r\n        },\r\n    };\r\n}\n\nfunction algoliasearch(appId, apiKey, options) {\r\n    const commonOptions = {\r\n        appId,\r\n        apiKey,\r\n        timeouts: {\r\n            connect: 1,\r\n            read: 2,\r\n            write: 30,\r\n        },\r\n        requester: createBrowserXhrRequester(),\r\n        logger: createConsoleLogger(LogLevelEnum.Error),\r\n        responsesCache: createInMemoryCache(),\r\n        requestsCache: createInMemoryCache({ serializable: false }),\r\n        hostsCache: createFallbackableCache({\r\n            caches: [\r\n                createBrowserLocalStorageCache({ key: `${version}-${appId}` }),\r\n                createInMemoryCache(),\r\n            ],\r\n        }),\r\n        userAgent: createUserAgent(version).add({\r\n            segment: 'Browser',\r\n            version: 'lite',\r\n        }),\r\n        authMode: AuthMode.WithinQueryParameters,\r\n    };\r\n    return createSearchClient({\r\n        ...commonOptions,\r\n        ...options,\r\n        methods: {\r\n            search: multipleQueries,\r\n            searchForFacetValues: multipleSearchForFacetValues,\r\n            multipleQueries,\r\n            multipleSearchForFacetValues,\r\n            initIndex: base => (indexName) => {\r\n                return initIndex(base)(indexName, {\r\n                    methods: { search, searchForFacetValues },\r\n                });\r\n            },\r\n        },\r\n    });\r\n}\r\n// eslint-disable-next-line functional/immutable-data\r\nalgoliasearch.version = version;\n\nexport default algoliasearch;\n","export const version = '1.0.0-alpha.10';\n","import React from 'react';\nimport algoliasearch from 'algoliasearch/dist/algoliasearch-lite.esm.browser';\n\nimport { version } from './version';\n\nexport function useSearchClient(appId: string, apiKey: string) {\n  const searchClient = React.useMemo(() => {\n    const client = algoliasearch(appId, apiKey);\n    client.addAlgoliaAgent(`docsearch (${version})`);\n\n    return client;\n  }, [appId, apiKey]);\n\n  return searchClient;\n}\n","import React from 'react';\n\ninterface UseTrapFocusProps {\n  container: HTMLElement | null;\n}\n\nexport function useTrapFocus({ container }: UseTrapFocusProps) {\n  React.useEffect(() => {\n    if (!container) {\n      return undefined;\n    }\n\n    const focusableElements = container.querySelectorAll<HTMLElement>(\n      'a[href]:not([disabled]), button:not([disabled]), input:not([disabled])'\n    );\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    function trapFocus(event: KeyboardEvent) {\n      if (event.key !== 'Tab') {\n        return;\n      }\n\n      if (event.shiftKey) {\n        if (document.activeElement === firstElement) {\n          event.preventDefault();\n          lastElement.focus();\n        }\n      } else if (document.activeElement === lastElement) {\n        event.preventDefault();\n        firstElement.focus();\n      }\n    }\n\n    container.addEventListener('keydown', trapFocus);\n\n    return () => {\n      container.removeEventListener('keydown', trapFocus);\n    };\n  }, [container]);\n}\n","import React from 'react';\nimport { AutocompleteApi } from '@francoischalifour/autocomplete-core';\n\ninterface UseTouchEventsProps {\n  getEnvironmentProps: AutocompleteApi<any>['getEnvironmentProps'];\n  dropdownElement: HTMLDivElement | null;\n  searchBoxElement: HTMLDivElement | null;\n  inputElement: HTMLInputElement | null;\n}\n\nexport function useTouchEvents({\n  getEnvironmentProps,\n  dropdownElement,\n  searchBoxElement,\n  inputElement,\n}: UseTouchEventsProps) {\n  React.useEffect(() => {\n    if (!(dropdownElement && searchBoxElement && inputElement)) {\n      return undefined;\n    }\n\n    const { onTouchStart, onTouchMove } = getEnvironmentProps({\n      dropdownElement,\n      searchBoxElement,\n      inputElement,\n    });\n\n    window.addEventListener('touchstart', onTouchStart);\n    window.addEventListener('touchmove', onTouchMove);\n\n    return () => {\n      window.removeEventListener('touchstart', onTouchStart);\n      window.removeEventListener('touchmove', onTouchMove);\n    };\n  }, [getEnvironmentProps, dropdownElement, searchBoxElement, inputElement]);\n}\n","import React from 'react';\n\nimport { DocSearchHit } from './types';\n\ninterface HitProps {\n  hit: DocSearchHit;\n  children: React.ReactNode;\n}\n\nexport function Hit({ hit, children }: HitProps) {\n  return <a href={hit.url}>{children}</a>;\n}\n","import React from 'react';\n\nexport function SearchIcon() {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      className=\"DocSearch-Search-Icon\"\n      viewBox=\"0 0 20 20\"\n    >\n      <path\n        d=\"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function ResetIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function LoadingIcon() {\n  return (\n    <svg viewBox=\"0 0 38 38\" stroke=\"currentColor\" strokeOpacity=\".5\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n          <circle strokeOpacity=\".3\" cx=\"18\" cy=\"18\" r=\"18\" />\n          <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n            <animateTransform\n              attributeName=\"transform\"\n              type=\"rotate\"\n              from=\"0 18 18\"\n              to=\"360 18 18\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n            />\n          </path>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React, { MutableRefObject } from 'react';\nimport {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@francoischalifour/autocomplete-core';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport { InternalDocSearchHit } from './types';\nimport { SearchIcon } from './icons/SearchIcon';\nimport { ResetIcon } from './icons/ResetIcon';\nimport { LoadingIcon } from './icons/LoadingIcon';\n\ninterface SearchBoxProps\n  extends AutocompleteApi<\n    InternalDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<InternalDocSearchHit>;\n  autoFocus: boolean;\n  inputRef: MutableRefObject<HTMLInputElement | null>;\n  onClose(): void;\n}\n\nexport function SearchBox(props: SearchBoxProps) {\n  const { onSubmit, onReset } = props.getFormProps({\n    inputElement: props.inputRef.current,\n  });\n\n  return (\n    <>\n      <form\n        action=\"\"\n        role=\"search\"\n        noValidate\n        className=\"DocSearch-Form\"\n        onSubmit={onSubmit}\n        onReset={onReset}\n      >\n        <label className=\"DocSearch-MagnifierLabel\" {...props.getLabelProps()}>\n          <SearchIcon />\n        </label>\n\n        <div className=\"DocSearch-LoadingIndicator\">\n          <LoadingIcon />\n        </div>\n\n        <input\n          className=\"DocSearch-Input\"\n          ref={props.inputRef}\n          {...props.getInputProps({\n            autoFocus: props.autoFocus,\n            inputElement: props.inputRef.current!,\n            type: 'search',\n            maxLength: MAX_QUERY_SIZE,\n          })}\n        />\n\n        <button\n          type=\"reset\"\n          title=\"Clear the query\"\n          className=\"DocSearch-Reset\"\n          hidden={!props.state.query}\n          onClick={onReset}\n        >\n          <ResetIcon />\n        </button>\n      </form>\n\n      <button className=\"DocSearch-Cancel\" onClick={props.onClose}>\n        Cancel\n      </button>\n    </>\n  );\n}\n","import { createElement } from 'react';\n\nimport { StoredDocSearchHit } from './types';\n\nfunction getPropertyByPath(object: object, path: string): any {\n  const parts = path.split('.');\n\n  return parts.reduce((current, key) => current && current[key], object);\n}\n\ninterface SnippetProps<TItem> {\n  [prop: string]: unknown;\n  hit: TItem;\n  attribute: string;\n  tagName?: string;\n}\n\nexport function Snippet<TItem extends StoredDocSearchHit>({\n  hit,\n  attribute,\n  tagName = 'span',\n  ...rest\n}: SnippetProps<TItem>) {\n  return createElement(tagName, {\n    ...rest,\n    dangerouslySetInnerHTML: {\n      __html:\n        getPropertyByPath(hit, `_snippetResult.${attribute}.value`) ||\n        getPropertyByPath(hit, attribute),\n    },\n  });\n}\n","import React from 'react';\nimport {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@francoischalifour/autocomplete-core';\n\nimport {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { Snippet } from './Snippet';\n\ninterface ResultsProps<TItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  title: string;\n  suggestion: AutocompleteState<TItem>['suggestions'][0];\n  renderIcon(props: { item: TItem; index: number }): React.ReactNode;\n  renderAction(props: {\n    item: TItem;\n    runDeleteTransition: (cb: () => void) => void;\n    runFavoriteTransition: (cb: () => void) => void;\n  }): React.ReactNode;\n  onItemClick(item: TItem): void;\n  hitComponent(props: {\n    hit: DocSearchHit;\n    children: React.ReactNode;\n  }): JSX.Element;\n}\n\nexport function Results<TItem extends StoredDocSearchHit>(\n  props: ResultsProps<TItem>\n) {\n  if (!props.suggestion || props.suggestion.items.length === 0) {\n    return null;\n  }\n\n  return (\n    <section className=\"DocSearch-Hits\">\n      <div className=\"DocSearch-Hit-source\">{props.title}</div>\n\n      <ul {...props.getMenuProps()}>\n        {props.suggestion.items.map((item, index) => {\n          return (\n            <Result\n              key={[props.title, item.objectID].join(':')}\n              item={item}\n              index={index}\n              {...props}\n            />\n          );\n        })}\n      </ul>\n    </section>\n  );\n}\n\ninterface ResultProps<TItem> extends ResultsProps<TItem> {\n  item: TItem;\n  index: number;\n}\n\nfunction Result<TItem extends StoredDocSearchHit>({\n  item,\n  index,\n  renderIcon,\n  renderAction,\n  getItemProps,\n  onItemClick,\n  suggestion,\n  hitComponent,\n}: ResultProps<TItem>) {\n  const [isDeleting, setIsDeleting] = React.useState(false);\n  const [isFavoriting, setIsFavoriting] = React.useState(false);\n  const action = React.useRef<(() => void) | null>(null);\n  const Hit = hitComponent;\n\n  function runDeleteTransition(cb: () => void) {\n    setIsDeleting(true);\n    action.current = cb;\n  }\n\n  function runFavoriteTransition(cb: () => void) {\n    setIsFavoriting(true);\n    action.current = cb;\n  }\n\n  return (\n    <li\n      className={[\n        'DocSearch-Hit',\n        ((item as unknown) as InternalDocSearchHit).__docsearch_parent &&\n          'DocSearch-Hit--Child',\n        isDeleting && 'DocSearch-Hit--deleting',\n        isFavoriting && 'DocSearch-Hit--favoriting',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onTransitionEnd={() => {\n        if (action.current) {\n          action.current();\n        }\n      }}\n      {...getItemProps({\n        item,\n        source: suggestion.source,\n        onClick() {\n          onItemClick(item);\n        },\n      })}\n    >\n      <Hit hit={item}>\n        <div className=\"DocSearch-Hit-Container\">\n          {renderIcon({ item, index })}\n\n          {item.hierarchy[item.type] && item.type === 'lvl1' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n              {item.content && (\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"content\"\n                />\n              )}\n            </div>\n          )}\n\n          {item.hierarchy[item.type] &&\n            (item.type === 'lvl2' ||\n              item.type === 'lvl3' ||\n              item.type === 'lvl4' ||\n              item.type === 'lvl5' ||\n              item.type === 'lvl6') && (\n              <div className=\"DocSearch-Hit-content-wrapper\">\n                <Snippet\n                  className=\"DocSearch-Hit-title\"\n                  hit={item}\n                  attribute={`hierarchy.${item.type}`}\n                />\n                <Snippet\n                  className=\"DocSearch-Hit-path\"\n                  hit={item}\n                  attribute=\"hierarchy.lvl1\"\n                />\n              </div>\n            )}\n\n          {item.type === 'content' && (\n            <div className=\"DocSearch-Hit-content-wrapper\">\n              <Snippet\n                className=\"DocSearch-Hit-title\"\n                hit={item}\n                attribute=\"content\"\n              />\n              <Snippet\n                className=\"DocSearch-Hit-path\"\n                hit={item}\n                attribute=\"hierarchy.lvl1\"\n              />\n            </div>\n          )}\n\n          {renderAction({ item, runDeleteTransition, runFavoriteTransition })}\n        </div>\n      </Hit>\n    </li>\n  );\n}\n","import React from 'react';\n\nexport function RecentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M3.18 6.6a8.23 8.23 0 1112.93 9.94h0a8.23 8.23 0 01-11.63 0\" />\n        <path d=\"M6.44 7.25H2.55V3.36M10.45 6v5.6M10.45 11.6L13 13\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SelectIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <g\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      >\n        <path d=\"M18 3v4c0 2-2 4-4 4H2\" />\n        <path d=\"M8 17l-6-6 6-6\" />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function SourceIcon(props: { type: string }) {\n  switch (props.type) {\n    case 'lvl1':\n      return <LvlIcon />;\n    case 'content':\n      return <ContentIcon />;\n    default:\n      return <AnchorIcon />;\n  }\n}\n\nfunction LvlIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction AnchorIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M13 13h4-4V8H7v5h6v4-4H7V8H3h4V3v5h6V3v5h4-4v5zm-6 0v4-4H3h4z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nfunction ContentIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M17 5H3h14zm0 5H3h14zm0 5H3h14z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function StarIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n      <path\n        d=\"M10 14.2L5 17l1-5.6-4-4 5.5-.7 2.5-5 2.5 5 5.6.8-4 4 .9 5.5z\"\n        stroke=\"currentColor\"\n        fill=\"none\"\n        fillRule=\"evenodd\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport function NoResultsIcon() {\n  return (\n    <svg\n      width=\"40\"\n      height=\"40\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      stroke=\"currentColor\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\" >\n      <path d=\"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2\"></path>\n    </svg>\n  );\n}\n","import React from 'react';\nimport {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@francoischalifour/autocomplete-core';\n\nimport { StoredDocSearchHit } from './types';\nimport { StoredSearchPlugin } from './stored-searches';\nimport { Results } from './Results';\nimport { ResetIcon, RecentIcon, StarIcon } from './icons';\n\ninterface StartScreenProps\n  extends AutocompleteApi<\n    StoredDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<StoredDocSearchHit>;\n  hasSuggestions: boolean;\n  onItemClick(item: StoredDocSearchHit): void;\n  recentSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  favoriteSearches: StoredSearchPlugin<StoredDocSearchHit>;\n}\n\nexport function StartScreen(props: StartScreenProps) {\n  if (props.state.status === 'idle' && props.hasSuggestions === false) {\n    return (\n      <div className=\"DocSearch-StartScreen\">\n        <p className=\"DocSearch-Help\">Your search history will appear here.</p>\n      </div>\n    );\n  }\n\n  if (props.hasSuggestions === false) {\n    return null;\n  }\n\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      <Results\n        {...props}\n        title=\"Recent\"\n        suggestion={props.state.suggestions[0]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <RecentIcon />\n          </div>\n        )}\n        renderAction={({\n          item,\n          runFavoriteTransition,\n          runDeleteTransition,\n        }) => (\n          <>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title=\"Save this search\"\n                onClick={event => {\n                  event.preventDefault();\n                  event.stopPropagation();\n\n                  runFavoriteTransition(() => {\n                    props.favoriteSearches.add(item);\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <StarIcon />\n              </button>\n            </div>\n            <div className=\"DocSearch-Hit-action\">\n              <button\n                className=\"DocSearch-Hit-action-button\"\n                title=\"Remove this search from history\"\n                onClick={event => {\n                  event.preventDefault();\n                  event.stopPropagation();\n\n                  runDeleteTransition(() => {\n                    props.recentSearches.remove(item);\n                    props.refresh();\n                  });\n                }}\n              >\n                <ResetIcon />\n              </button>\n            </div>\n          </>\n        )}\n      />\n\n      <Results\n        {...props}\n        title=\"Favorites\"\n        suggestion={props.state.suggestions[1]}\n        renderIcon={() => (\n          <div className=\"DocSearch-Hit-icon\">\n            <StarIcon />\n          </div>\n        )}\n        renderAction={({ item, runDeleteTransition }) => (\n          <div className=\"DocSearch-Hit-action\">\n            <button\n              className=\"DocSearch-Hit-action-button\"\n              title=\"Remove this search from favorites\"\n              onClick={event => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                runDeleteTransition(() => {\n                  props.favoriteSearches.remove(item);\n                  props.refresh();\n                });\n              }}\n            >\n              <ResetIcon />\n            </button>\n          </div>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@francoischalifour/autocomplete-core';\n\nimport { InternalDocSearchHit } from './types';\nimport { Results } from './Results';\nimport { SourceIcon, SelectIcon } from './icons';\n\ninterface ResultsScreenProps\n  extends AutocompleteApi<\n    InternalDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<InternalDocSearchHit>;\n  onItemClick(item: InternalDocSearchHit): void;\n}\n\nexport function ResultsScreen(props: ResultsScreenProps) {\n  return (\n    <div className=\"DocSearch-Dropdown-Container\">\n      {props.state.suggestions.map((suggestion, index) => {\n        if (suggestion.items.length === 0) {\n          return null;\n        }\n\n        const title = suggestion.items[0].hierarchy.lvl0;\n\n        return (\n          <Results\n            {...props}\n            key={index}\n            title={title}\n            suggestion={suggestion}\n            renderIcon={({ item, index }) => (\n              <>\n                {item.__docsearch_parent && (\n                  <svg className=\"DocSearch-Hit-Tree\" viewBox=\"0 0 24 54\">\n                    <g\n                      stroke=\"currentColor\"\n                      fill=\"none\"\n                      fillRule=\"evenodd\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    >\n                      {item.__docsearch_parent !==\n                      suggestion.items[index + 1]?.__docsearch_parent ? (\n                        <path d=\"M8 6v21M20 27H8.3\" />\n                      ) : (\n                        <path d=\"M8 6v42M20 27H8.3\" />\n                      )}\n                    </g>\n                  </svg>\n                )}\n\n                <div className=\"DocSearch-Hit-icon\">\n                  <SourceIcon type={item.type} />\n                </div>\n              </>\n            )}\n            renderAction={() => (\n              <div className=\"DocSearch-Hit-action\">\n                <SelectIcon />\n              </div>\n            )}\n          />\n        );\n      })}\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@francoischalifour/autocomplete-core';\n\nimport { InternalDocSearchHit } from './types';\n\nimport { NoResultsIcon } from './icons';\n\ninterface NoResultsScreenProps\n  extends AutocompleteApi<\n    InternalDocSearchHit,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<InternalDocSearchHit>;\n  inputRef: React.MutableRefObject<null | HTMLInputElement>;\n}\n\nexport function NoResultsScreen(props: NoResultsScreenProps) {\n  const searchSuggestions: string[] | undefined =\n    props.state.context.searchSuggestions;\n\n  return (\n    <div className=\"DocSearch-NoResults\">\n      <div className=\"DocSearch-Screen-Icon\">\n        <NoResultsIcon/>\n      </div>\n      <p className=\"DocSearch-Title\">\n        No results for \"<strong>{props.state.query}</strong>\".\n      </p>\n\n      {searchSuggestions && searchSuggestions.length > 0 && (\n        <p>\n          Try searching for{' '}\n          {searchSuggestions.slice(0, 3).reduce<React.ReactNode[]>(\n            (acc, search) => [\n              ...acc,\n              <button\n                className=\"DocSearch-Prefill\"\n                key={search}\n                onClick={() => {\n                  props.setQuery(search.toLowerCase() + ' ');\n                  props.refresh();\n                  props.inputRef.current!.focus();\n                }}\n              >\n                {search}\n              </button>,\n            ],\n            []\n          )}\n        </p>\n      )}\n\n      <p className=\"DocSearch-Help\">\n        If you believe this query should return results, please{' '}\n        <a\n          href=\"https://github.com/algolia/docsearch-configs/issues/new?template=Missing_results.md\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          let us know on GitHub\n        </a>\n        .\n      </p>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport function ErrorScreen() {\n  return (\n    <div className=\"DocSearch-ErrorScreen\">\n      <p>\n        Weâ€˜re unable to fetch results. You might want to check your network\n        connection.\n      </p>\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  AutocompleteApi,\n  AutocompleteState,\n} from '@francoischalifour/autocomplete-core';\n\nimport { StoredSearchPlugin } from './stored-searches';\nimport { InternalDocSearchHit, StoredDocSearchHit } from './types';\nimport { StartScreen } from './StartScreen';\nimport { ResultsScreen } from './ResultsScreen';\nimport { NoResultsScreen } from './NoResultsScreen';\nimport { ErrorScreen } from './ErrorScreen';\n\ninterface ScreenStateProps<TItem>\n  extends AutocompleteApi<\n    TItem,\n    React.FormEvent,\n    React.MouseEvent,\n    React.KeyboardEvent\n  > {\n  state: AutocompleteState<TItem>;\n  recentSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  favoriteSearches: StoredSearchPlugin<StoredDocSearchHit>;\n  onItemClick(item: StoredDocSearchHit): void;\n  inputRef: React.MutableRefObject<null | HTMLInputElement>;\n}\n\nexport const ScreenState = React.memo(\n  (props: ScreenStateProps<InternalDocSearchHit>) => {\n    if (props.state.status === 'error') {\n      return <ErrorScreen />;\n    }\n\n    const hasSuggestions = props.state.suggestions.some(\n      suggestion => suggestion.items.length > 0\n    );\n\n    if (!props.state.query) {\n      return (\n        <StartScreen\n          {...(props as ScreenStateProps<any>)}\n          hasSuggestions={hasSuggestions}\n        />\n      );\n    }\n\n    if (hasSuggestions === false) {\n      return <NoResultsScreen {...props} />;\n    }\n\n    return <ResultsScreen {...props} />;\n  },\n  function areEqual(_prevProps, nextProps) {\n    // We don't update the screen when Autocomplete is loading or stalled to\n    // avoid UI flashes:\n    //  - Empty screen â†’ Results screen\n    //  - NoResults screen â†’ NoResults screen with another query\n    return (\n      nextProps.state.status === 'loading' ||\n      nextProps.state.status === 'stalled'\n    );\n  }\n);\n","import React from 'react';\n\nexport function AlgoliaLogo() {\n  return (\n    <a\n      href=\"https://www.algolia.com/docsearch\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <span className=\"DocSearch-Label\">Search by</span>\n      <svg width=\"77\" height=\"19\">\n        <path\n          d=\"M2.5067 0h14.0245c1.384.001 2.5058 1.1205 2.5068 2.5017V16.5c-.0014 1.3808-1.1232 2.4995-2.5068 2.5H2.5067C1.1232 18.9995.0014 17.8808 0 16.5V2.4958A2.495 2.495 0 01.735.7294 2.505 2.505 0 012.5068 0zM37.95 15.0695c-3.7068.0168-3.7068-2.986-3.7068-3.4634L34.2372.3576 36.498 0v11.1794c0 .2715 0 1.9889 1.452 1.994v1.8961zm-9.1666-1.8388c.694 0 1.2086-.0397 1.5678-.1088v-2.2934a5.3639 5.3639 0 00-1.3303-.1679 4.8283 4.8283 0 00-.758.0582 2.2845 2.2845 0 00-.688.2024c-.2029.0979-.371.2362-.4919.4142-.1268.1788-.185.2826-.185.5533 0 .5297.185.8359.5205 1.0375.3355.2016.7928.3053 1.365.3053v-.0008zm-.1969-8.1817c.7463 0 1.3768.092 1.8856.2767.5088.1838.9195.4428 1.2204.7717.3068.334.5147.7777.6423 1.251.1327.4723.196.991.196 1.5603v5.798c-.5235.1036-1.05.192-1.5787.2649-.7048.1037-1.4976.156-2.3774.156-.5832 0-1.1215-.0582-1.6016-.167a3.385 3.385 0 01-1.2432-.5364 2.6034 2.6034 0 01-.8037-.9565c-.191-.3922-.29-.9447-.29-1.5208 0-.5533.11-.905.3246-1.2863a2.7351 2.7351 0 01.8849-.9329c.376-.242.8029-.415 1.2948-.5187a7.4517 7.4517 0 011.5381-.156 7.1162 7.1162 0 011.6667.2024V8.886c0-.259-.0296-.5061-.093-.7372a1.5847 1.5847 0 00-.3245-.6158 1.5079 1.5079 0 00-.6119-.4158 2.6788 2.6788 0 00-.966-.173c-.5206 0-.9948.0634-1.4283.1384a6.5481 6.5481 0 00-1.065.259l-.2712-1.849c.2831-.0986.7048-.1964 1.2491-.2943a9.2979 9.2979 0 011.752-.1501v.0008zm44.6597 8.1193c.6947 0 1.2086-.0405 1.567-.1097v-2.2942a5.3743 5.3743 0 00-1.3303-.1679c-.2485 0-.503.0177-.7573.0582a2.2853 2.2853 0 00-.688.2024 1.2333 1.2333 0 00-.4918.4142c-.1268.1788-.1843.2826-.1843.5533 0 .5297.1843.8359.5198 1.0375.3414.2066.7927.3053 1.365.3053v.0009zm-.191-8.1767c.7463 0 1.3768.0912 1.8856.2759.5087.1847.9195.4436 1.2204.7717.3.329.5147.7786.6414 1.251a5.7248 5.7248 0 01.197 1.562v5.7972c-.3466.0742-.874.1602-1.5788.2648-.7049.1038-1.4976.1552-2.3774.1552-.5832 0-1.1215-.0573-1.6016-.167a3.385 3.385 0 01-1.2432-.5356 2.6034 2.6034 0 01-.8038-.9565c-.191-.3922-.2898-.9447-.2898-1.5216 0-.5533.1098-.905.3245-1.2854a2.7373 2.7373 0 01.8849-.9338c.376-.2412.8029-.4141 1.2947-.5178a7.4545 7.4545 0 012.325-.1097c.2781.0287.5672.081.879.156v-.3686a2.7781 2.7781 0 00-.092-.738 1.5788 1.5788 0 00-.3246-.6166 1.5079 1.5079 0 00-.612-.415 2.6797 2.6797 0 00-.966-.1729c-.5205 0-.9947.0633-1.4282.1384a6.5608 6.5608 0 00-1.065.259l-.2712-1.8498c.283-.0979.7048-.1957 1.2491-.2935a9.8597 9.8597 0 011.752-.1494zm-6.79-1.072c-.7576.001-1.373-.6103-1.3759-1.3664 0-.755.6128-1.3664 1.376-1.3664.764 0 1.3775.6115 1.3775 1.3664s-.6195 1.3664-1.3776 1.3664zm1.1393 11.1507h-2.2726V5.3409l2.2734-.3568v10.0845l-.0008.0017zm-3.984 0c-3.707.0168-3.707-2.986-3.707-3.4642L59.7069.3576 61.9685 0v11.1794c0 .2715 0 1.9889 1.452 1.994V15.0703zm-7.3512-4.979c0-.975-.2138-1.7873-.6305-2.3516-.4167-.571-.9998-.852-1.747-.852-.7454 0-1.3302.281-1.7452.852-.4166.5702-.6195 1.3765-.6195 2.3516 0 .9851.208 1.6473.6254 2.2183.4158.576.9998.8587 1.7461.8587.7454 0 1.3303-.2885 1.747-.8595.4158-.5761.6237-1.2315.6237-2.2184v.0009zm2.3132-.006c0 .7609-.1099 1.3361-.3356 1.9654a4.654 4.654 0 01-.9533 1.6076A4.214 4.214 0 0155.613 14.69c-.579.2412-1.4697.3795-1.9143.3795-.4462-.005-1.3303-.1324-1.9033-.3795a4.307 4.307 0 01-1.474-1.0316c-.4115-.4445-.7293-.9801-.9609-1.6076a5.3423 5.3423 0 01-.3465-1.9653c0-.7608.104-1.493.3356-2.1155a4.683 4.683 0 01.9719-1.5958 4.3383 4.3383 0 011.479-1.0257c.5739-.242 1.2043-.3567 1.8864-.3567.6829 0 1.3125.1197 1.8906.3567a4.1245 4.1245 0 011.4816 1.0257 4.7587 4.7587 0 01.9592 1.5958c.2426.6225.3643 1.3547.3643 2.1155zm-17.0198 0c0 .9448.208 1.9932.6238 2.431.4166.4386.955.6579 1.6142.6579.3584 0 .6998-.0523 1.0176-.1502.3186-.0978.5721-.2134.775-.3517V7.0784a8.8706 8.8706 0 00-1.4926-.1906c-.8206-.0236-1.4452.312-1.8847.8468-.4335.5365-.6533 1.476-.6533 2.3516v-.0008zm6.2863 4.4485c0 1.5385-.3938 2.662-1.1866 3.3773-.791.7136-2.0005 1.0712-3.6308 1.0712-.5958 0-1.834-.1156-2.8228-.334l.3643-1.7865c.8282.173 1.9202.2193 2.4932.2193.9077 0 1.555-.1847 1.943-.5533.388-.3686.578-.916.578-1.643v-.3687a6.8289 6.8289 0 01-.8848.3349c-.3634.1096-.786.167-1.261.167-.6246 0-1.1917-.0979-1.7055-.2944a3.5554 3.5554 0 01-1.3244-.8645c-.3642-.3796-.6541-.8579-.8561-1.4289-.2028-.571-.3068-1.59-.3068-2.339 0-.7034.1099-1.5856.3245-2.1735.2198-.5871.5316-1.0949.9542-1.515.4167-.42.9255-.743 1.5213-.98a5.5923 5.5923 0 012.052-.3855c.7353 0 1.4114.092 2.0707.2024.6592.1088 1.2204.2236 1.6776.35v8.945-.0008zM11.5026 4.2418v-.6511c-.0005-.4553-.3704-.8241-.8266-.8241H8.749c-.4561 0-.826.3688-.8265.824v.669c0 .0742.0693.1264.1445.1096a6.0346 6.0346 0 011.6768-.2362 6.125 6.125 0 011.6202.2185.1116.1116 0 00.1386-.1097zm-5.2806.852l-.3296-.3282a.8266.8266 0 00-1.168 0l-.393.3922a.8199.8199 0 000 1.164l.3237.323c.0524.0515.1268.0397.1733-.0117.191-.259.3989-.507.6305-.7372.2374-.2362.48-.4437.7462-.6335.0575-.0354.0634-.1155.017-.1687zm3.5159 2.069v2.818c0 .081.0879.1392.1622.0987l2.5102-1.2964c.0574-.0287.0752-.0987.0464-.1552a3.1237 3.1237 0 00-2.603-1.574c-.0575 0-.115.0456-.115.1097l-.0008-.0009zm.0008 6.789c-2.0933.0005-3.7915-1.6912-3.7947-3.7804C5.9468 8.0821 7.6452 6.39 9.7387 6.391c2.0932-.0005 3.7911 1.6914 3.794 3.7804a3.7783 3.7783 0 01-1.1124 2.675 3.7936 3.7936 0 01-2.6824 1.1054h.0008zM9.738 4.8002c-1.9218 0-3.6975 1.0232-4.6584 2.6841a5.359 5.359 0 000 5.3683c.9609 1.661 2.7366 2.6841 4.6584 2.6841a5.3891 5.3891 0 003.8073-1.5725 5.3675 5.3675 0 001.578-3.7987 5.3574 5.3574 0 00-1.5771-3.797A5.379 5.379 0 009.7387 4.801l-.0008-.0008z\"\n          fill=\"currentColor\"\n          fillRule=\"evenodd\"\n        />\n      </svg>\n    </a>\n  );\n}\n","import React from 'react';\n\nimport { AlgoliaLogo } from './AlgoliaLogo';\n\nexport function Footer() {\n  return (\n    <>\n      <div className=\"DocSearch-Logo\">\n        <AlgoliaLogo />\n      </div>\n      <ul className=\"DocSearch-Commands\">\n        <li>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Label\">to select</span>\n        </li>\n        <li>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M7.5 3.5v8M10.5 8.5l-3 3-3-3\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M7.5 11.5v-8M10.5 6.5l-3-3-3 3\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Label\">to navigate</span>\n        </li>\n        <li>\n          <span className=\"DocSearch-Commands-Key\">\n            <CommandIcon>\n              <path d=\"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956\" />\n            </CommandIcon>\n          </span>\n          <span className=\"DocSearch-Label\">to close</span>\n        </li>\n      </ul>\n    </>\n  );\n}\n\ninterface CommandIconProps {\n  children: React.ReactNode;\n}\n\nfunction CommandIcon(props: CommandIconProps) {\n  return (\n    <svg width=\"15\" height=\"15\">\n      <g\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.2\"\n      >\n        {props.children}\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\nimport {\n  createAutocomplete,\n  AutocompleteState,\n  PublicAutocompleteOptions,\n} from '@francoischalifour/autocomplete-core';\nimport { getAlgoliaHits } from '@francoischalifour/autocomplete-preset-algolia';\n\nimport { MAX_QUERY_SIZE } from './constants';\nimport {\n  DocSearchHit,\n  InternalDocSearchHit,\n  StoredDocSearchHit,\n} from './types';\nimport { groupBy, noop } from './utils';\nimport { createStoredSearches } from './stored-searches';\nimport { useSearchClient } from './useSearchClient';\nimport { useTrapFocus } from './useTrapFocus';\nimport { useTouchEvents } from './useTouchEvents';\nimport { Hit } from './Hit';\nimport { SearchBox } from './SearchBox';\nimport { ScreenState } from './ScreenState';\nimport { Footer } from './Footer';\n\ninterface DocSearchProps\n  extends Pick<PublicAutocompleteOptions<InternalDocSearchHit>, 'navigator'> {\n  appId?: string;\n  apiKey: string;\n  indexName: string;\n  placeholder?: string;\n  searchParameters?: any;\n  onClose?(): void;\n  transformItems?(items: DocSearchHit[]): DocSearchHit[];\n  hitComponent?(props: {\n    hit: DocSearchHit;\n    children: React.ReactNode;\n  }): JSX.Element;\n}\n\nexport function DocSearch({\n  appId = 'BH4D9OD16A',\n  apiKey,\n  indexName,\n  placeholder = 'Search docs',\n  searchParameters,\n  onClose = noop,\n  transformItems = x => x,\n  hitComponent = Hit,\n  navigator,\n}: DocSearchProps) {\n  const [state, setState] = React.useState<\n    AutocompleteState<InternalDocSearchHit>\n  >({\n    query: '',\n    suggestions: [],\n  } as any);\n\n  const containerRef = React.useRef<HTMLDivElement | null>(null);\n  const searchBoxRef = React.useRef<HTMLDivElement | null>(null);\n  const dropdownRef = React.useRef<HTMLDivElement | null>(null);\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\n  const snipetLength = React.useRef<number>(10);\n  const initialQuery = React.useRef(\n    typeof window !== 'undefined'\n      ? window\n          .getSelection()!\n          .toString()\n          .slice(0, MAX_QUERY_SIZE)\n      : ''\n  ).current;\n\n  const searchClient = useSearchClient(appId, apiKey);\n  const favoriteSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: '__DOCSEARCH_FAVORITE_SEARCHES__',\n      limit: 10,\n    })\n  ).current;\n  const recentSearches = React.useRef(\n    createStoredSearches<StoredDocSearchHit>({\n      key: '__DOCSEARCH_RECENT_SEARCHES__',\n      // We display 7 recent searches and there's no favorites, but only\n      // 4 when there are favorites.\n      limit: favoriteSearches.getAll().length === 0 ? 7 : 4,\n    })\n  ).current;\n\n  const saveRecentSearch = React.useCallback(\n    function saveRecentSearch(item: InternalDocSearchHit) {\n      // We don't store `content` record, but their parent if available.\n      const search = item.type === 'content' ? item.__docsearch_parent : item;\n\n      // We save the recent search only if it's not favorited.\n      if (\n        search &&\n        favoriteSearches\n          .getAll()\n          .findIndex(x => x.objectID === search.objectID) === -1\n      ) {\n        recentSearches.add(search);\n      }\n    },\n    [favoriteSearches, recentSearches]\n  );\n\n  const autocomplete = React.useMemo(\n    () =>\n      createAutocomplete<\n        InternalDocSearchHit,\n        React.FormEvent<HTMLFormElement>,\n        React.MouseEvent,\n        React.KeyboardEvent\n      >({\n        id: 'docsearch',\n        defaultHighlightedIndex: 0,\n        autoFocus: true,\n        placeholder,\n        openOnFocus: true,\n        initialState: {\n          query: initialQuery,\n          context: {\n            searchSuggestions: [],\n          },\n        },\n        navigator,\n        onStateChange({ state }) {\n          setState(state as any);\n        },\n        getSources({ query, state, setContext, setStatus }) {\n          if (!query) {\n            return [\n              {\n                onSelect({ suggestion }) {\n                  saveRecentSearch(suggestion);\n                  onClose();\n                },\n                getSuggestionUrl({ suggestion }) {\n                  return suggestion.url;\n                },\n                getSuggestions() {\n                  return recentSearches.getAll();\n                },\n              },\n              {\n                onSelect({ suggestion }) {\n                  saveRecentSearch(suggestion);\n                  onClose();\n                },\n                getSuggestionUrl({ suggestion }) {\n                  return suggestion.url;\n                },\n                getSuggestions() {\n                  return favoriteSearches.getAll();\n                },\n              },\n            ];\n          }\n\n          return getAlgoliaHits({\n            searchClient,\n            queries: [\n              {\n                indexName,\n                query,\n                params: {\n                  attributesToRetrieve: [\n                    'hierarchy.lvl0',\n                    'hierarchy.lvl1',\n                    'hierarchy.lvl2',\n                    'hierarchy.lvl3',\n                    'hierarchy.lvl4',\n                    'hierarchy.lvl5',\n                    'hierarchy.lvl6',\n                    'content',\n                    'type',\n                    'url',\n                  ],\n                  attributesToSnippet: [\n                    `hierarchy.lvl1:${snipetLength.current}`,\n                    `hierarchy.lvl2:${snipetLength.current}`,\n                    `hierarchy.lvl3:${snipetLength.current}`,\n                    `hierarchy.lvl4:${snipetLength.current}`,\n                    `hierarchy.lvl5:${snipetLength.current}`,\n                    `hierarchy.lvl6:${snipetLength.current}`,\n                    `content:${snipetLength.current}`,\n                  ],\n                  snippetEllipsisText: 'â€¦',\n                  highlightPreTag: '<mark>',\n                  highlightPostTag: '</mark>',\n                  hitsPerPage: 20,\n                  distinct: 4,\n                  ...searchParameters,\n                },\n              },\n            ],\n          })\n            .catch(error => {\n              // The Algolia `RetryError` happens when all the servers have\n              // failed, meaning that there's no chance the response comes\n              // back. This is the right time to display an error.\n              // See https://github.com/algolia/algoliasearch-client-javascript/blob/2ffddf59bc765cd1b664ee0346b28f00229d6e12/packages/transporter/src/errors/createRetryError.ts#L5\n              if (error.name === 'RetryError') {\n                setStatus('error');\n              }\n\n              throw error;\n            })\n            .then((hits: DocSearchHit[]) => {\n              const sources = groupBy(hits, hit => hit.hierarchy.lvl0);\n\n              // We store the `lvl0`s to display them as search suggestions\n              // in the â€œno resultsâ€œ screen.\n              if (\n                (state.context.searchSuggestions as any[]).length <\n                Object.keys(sources).length\n              ) {\n                setContext({\n                  searchSuggestions: Object.keys(sources),\n                });\n              }\n\n              return Object.values<DocSearchHit[]>(sources).map(items => {\n                return {\n                  onSelect({ suggestion }) {\n                    saveRecentSearch(suggestion);\n                    onClose();\n                  },\n                  getSuggestionUrl({ suggestion }) {\n                    return suggestion.url;\n                  },\n                  getSuggestions() {\n                    return Object.values(\n                      groupBy(items, item => item.hierarchy.lvl1)\n                    )\n                      .map(items => {\n                        return items.map(item => {\n                          const url = new URL(item.url);\n\n                          return {\n                            ...item,\n                            url: item.url.replace(url.origin, ''),\n                          };\n                        });\n                      })\n                      .map(transformItems)\n                      .map(hits =>\n                        hits.map(item => {\n                          return {\n                            ...item,\n                            // eslint-disable-next-line @typescript-eslint/camelcase\n                            __docsearch_parent:\n                              item.type !== 'lvl1' &&\n                              hits.find(\n                                siblingItem =>\n                                  siblingItem.type === 'lvl1' &&\n                                  siblingItem.hierarchy.lvl1 ===\n                                    item.hierarchy.lvl1\n                              ),\n                          };\n                        })\n                      )\n                      .flat();\n                  },\n                };\n              });\n            });\n        },\n      }),\n    [\n      indexName,\n      searchParameters,\n      searchClient,\n      onClose,\n      recentSearches,\n      favoriteSearches,\n      saveRecentSearch,\n      initialQuery,\n      placeholder,\n      navigator,\n      transformItems,\n    ]\n  );\n\n  const { getEnvironmentProps, getRootProps, refresh } = autocomplete;\n\n  useTouchEvents({\n    getEnvironmentProps,\n    dropdownElement: dropdownRef.current,\n    searchBoxElement: searchBoxRef.current,\n    inputElement: inputRef.current,\n  });\n  useTrapFocus({ container: containerRef.current });\n\n  React.useEffect(() => {\n    const isMobileMediaQuery = window.matchMedia('(max-width: 750px)');\n\n    if (isMobileMediaQuery.matches) {\n      snipetLength.current = 5;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (dropdownRef.current) {\n      dropdownRef.current.scrollTop = 0;\n    }\n  }, [state.query]);\n\n  // We don't focus the input when there's an initial query (i.e. Selection\n  // Search) because users rather want to see the results directly, without the\n  // keyboard appearing.\n  // We therefore need to refresh the autocomplete instance to load all the\n  // results, which is usually triggered on focus.\n  React.useEffect(() => {\n    if (initialQuery.length > 0) {\n      refresh();\n    }\n  }, [initialQuery, refresh]);\n\n  return (\n    <div\n      ref={containerRef}\n      {...getRootProps({})}\n      className={[\n        'DocSearch-Container',\n        state.status === 'stalled' && 'DocSearch-Container--Stalled',\n        state.status === 'error' && 'DocSearch-Container--Errored',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onClick={event => {\n        if (event.target === event.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div className=\"DocSearch-Modal\">\n        <header className=\"DocSearch-SearchBar\" ref={searchBoxRef}>\n          <SearchBox\n            {...autocomplete}\n            state={state}\n            autoFocus={initialQuery.length === 0}\n            onClose={onClose}\n            inputRef={inputRef}\n          />\n        </header>\n\n        <div className=\"DocSearch-Dropdown\" ref={dropdownRef}>\n          <ScreenState\n            {...autocomplete}\n            state={state}\n            hitComponent={hitComponent}\n            recentSearches={recentSearches}\n            favoriteSearches={favoriteSearches}\n            onItemClick={item => {\n              saveRecentSearch(item);\n              onClose();\n            }}\n            inputRef={inputRef}\n          />\n        </div>\n\n        <footer className=\"DocSearch-Footer\">\n          <Footer />\n        </footer>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { SearchIcon } from './icons/SearchIcon';\n\ninterface SearchButtonProps {\n  onClick(): void;\n}\n\nconst ACTION_KEY_DEFAULT = 'Ctrl';\nconst ACTION_KEY_APPLE = 'âŒ˜';\n\nfunction isAppleDevice() {\n  if (typeof navigator === 'undefined') {\n    return ACTION_KEY_DEFAULT;\n  }\n\n  return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n}\n\nexport function SearchButton(props: SearchButtonProps) {\n  const [key, setKey] = useState(() =>\n    isAppleDevice() ? ACTION_KEY_APPLE : ACTION_KEY_DEFAULT\n  );\n\n  useEffect(() => {\n    if (isAppleDevice()) {\n      setKey(ACTION_KEY_APPLE);\n    }\n  }, []);\n\n  return (\n    <button\n      type=\"button\"\n      className=\"DocSearch-SearchButton\"\n      onClick={props.onClick}\n    >\n      <SearchIcon />\n      <span className=\"DocSearch-SearchButton-Placeholder\">Search</span>\n      <span className=\"DocSearch-SearchButton-Key\">{key}</span>\n      <span className=\"DocSearch-SearchButton-Key\">K</span>\n    </button>\n  );\n}\n"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","noop","autocompleteId","generateAutocompleteId","concat","getItemsCount","state","suggestions","reduce","sum","suggestion","items","isSpecialClick","event","isMiddleClick","button","altKey","ctrlKey","metaKey","shiftKey","normalizeSource","getInputValue","_ref","query","getSuggestionUrl","undefined","onSelect","_ref2","setIsOpen","onHighlight","normalizeGetSources","getSources","options","Promise","resolve","then","sources","all","Boolean","map","getNextHighlightedIndex","moveAmount","baseIndex","itemCount","defaultHighlightedIndex","numericIndex","getSuggestionFromHighlightedIndex","_ref3","accumulatedSuggestionsCount","acc","suggestionCount","index","previousValue","nextValue","suggestionIndex","current","highlightedIndex","getRelativeHighlightedIndex","_ref4","isOffsetFound","counter","previousItemsOffset","currentSuggestion","getHighlightedItem","_ref5","item","itemValue","itemUrl","isOrContainsNode","parent","child","contains","stateReducer","action","props","type","isOpen","status","context","statusContext","openOnFocus","getDefaultProps","_props$id","environment","window","placeholder","autoFocus","showCompletion","stallThreshold","shouldDropdownShow","onStateChange","onSubmit","id","initialState","completion","navigator","navigate","suggestionUrl","location","assign","navigateNewTab","windowReference","open","focus","navigateNewWindow","getCompletion","toLocaleLowerCase","indexOf","slice","createStore","reducer","getState","send","payload","withCompletion","lastStalledId","onInput","store","setHighlightedIndex","setQuery","setSuggestions","setStatus","setContext","_ref$nextState","nextState","clearTimeout","_nextState$isOpen","setTimeout","getSuggestions","_nextState$isOpen2","catch","error","finally","onKeyDown","preventDefault","nodeItem","document","getElementById","scrollIntoView","highlightedItem","suggestionValue","selectionStart","every","_item","_itemValue","_itemUrl","_source","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","prototype","propertyIsEnumerable","call","sourceKeys","getPropGetters","getEnvironmentProps","getterProps","onTouchStart","inputElement","isTargetWithinAutocomplete","searchBoxElement","dropdownElement","some","contextNode","activeElement","onTouchMove","blur","getRootProps","rest","role","getFormProps","providedProps","onReset","getInputProps","onFocus","isTouchDevice","_providedProps$maxLen","maxLength","autoComplete","autoCorrect","autoCapitalize","spellCheck","onChange","currentTarget","_onKeyDown","onBlur","onClick","getLabelProps","htmlFor","getMenuProps","getDropdownProps","onMouseLeave","getItemProps","__autocomplete_id","onMouseMove","onMouseDown","inputValue","getAutocompleteSetters","rawValue","baseItemId","createAutocomplete","_getAutocompleteSette","_getPropGetters","refresh","flatten","values","a","b","getAlgoliaSource","searchClient","queries","addAlgoliaAgent","search","searchParameters","indexName","params","hitsPerPage","highlightPreTag","highlightPostTag","getAlgoliaHits","response","results","result","hits","MAX_QUERY_SIZE","groupBy","predicate","hasOwnProperty","isLocalStorageSupported","localStorage","setItem","removeItem","createStorage","getItem","JSON","stringify","parse","createStoredSearches","limit","storage","add","_highlightResult","_snippetResult","hit","isQueryAlreadySaved","findIndex","x","objectID","splice","unshift","remove","getAll","version","useSearchClient","appId","apiKey","React","useMemo","client","algoliasearch","useTrapFocus","container","useEffect","focusableElements","querySelectorAll","firstElement","lastElement","trapFocus","addEventListener","removeEventListener","useTouchEvents","Hit","children","url","SearchIcon","ResetIcon","LoadingIcon","SearchBox","inputRef","onClose","getPropertyByPath","path","parts","split","Snippet","attribute","tagName","createElement","dangerouslySetInnerHTML","__html","Results","title","join","Result","renderIcon","renderAction","onItemClick","hitComponent","useState","isDeleting","setIsDeleting","isFavoriting","setIsFavoriting","useRef","runDeleteTransition","cb","runFavoriteTransition","__docsearch_parent","hierarchy","content","RecentIcon","SelectIcon","SourceIcon","LvlIcon","AnchorIcon","ContentIcon","StarIcon","NoResultsIcon","StartScreen","hasSuggestions","stopPropagation","favoriteSearches","recentSearches","ResultsScreen","lvl0","NoResultsScreen","searchSuggestions","toLowerCase","ErrorScreen","ScreenState","memo","areEqual","_prevProps","nextProps","AlgoliaLogo","Footer","CommandIcon","DocSearch","transformItems","setState","containerRef","searchBoxRef","dropdownRef","snipetLength","initialQuery","getSelection","toString","saveRecentSearch","useCallback","autocomplete","attributesToRetrieve","attributesToSnippet","snippetEllipsisText","distinct","name","lvl1","URL","replace","origin","find","siblingItem","flat","isMobileMediaQuery","matchMedia","matches","scrollTop","ACTION_KEY_DEFAULT","ACTION_KEY_APPLE","isAppleDevice","test","platform","SearchButton","setKey"],"mappings":"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"}